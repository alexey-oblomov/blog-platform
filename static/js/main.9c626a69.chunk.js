(this["webpackJsonpblog-platform"]=this["webpackJsonpblog-platform"]||[]).push([[0],{166:function(e,t,n){e.exports=n(196)},175:function(e,t,n){},196:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(14),o=n.n(i),l=n(52),c=n(84),u=n(10),s={listArticles:[],articlesCount:0,isAuthorized:!1,showMode:"",currentUser:{},currentMenuItem:null,showQuantity:9,currentPage:1};var p=n(7),d=n.n(p),m=n(13),f=(n(175),n(18)),h=n(3),v=n(4),g=n(29),b=n(30),x=n(34),y=n(32),E=function(e,t){return{type:"ARTICLES_LOADED",listArticles:e,articlesCount:t}},w=function(e){return{type:"SET_AUTHORIZED",isAuthorized:e}},O=function(e){return{type:"SHOW_MODE",showMode:e}},j=function(e){return{type:"CURRENT_USER_PROFILE_LOAD",currentUser:e}},k=function(e){return{type:"SET_CURRENT_MENU_ITEM",currentMenuItem:e}},A=n(26),C=n.n(A),z=function(){var e=localStorage.getItem("token");return{Authorization:"Token ".concat(e)}};function S(e){return C.a.get("https://conduit.productionready.io/api/user",{headers:e})}function M(e,t){var n="https://conduit.productionready.io/api/articles?limit="+e;return C.a.get(n,{headers:t})}function L(e,t,n){var r="https://conduit.productionready.io/api/articles?limit="+e+"&author="+t;return C.a.get(r,{headers:n})}function U(e){return C.a.post("https://conduit.productionready.io/api/users/login",e)}function I(e){return C.a.post("https://conduit.productionready.io/api/users",e)}function T(e,t,n){var r="https://conduit.productionready.io/api/articles?limit=".concat(e,"&offset=").concat(t);return C.a.get(r,{headers:n})}function D(e,t,n,r){var a="https://conduit.productionready.io/api/articles?limit=".concat(e,"&author=").concat(t,"&offset=").concat(n);return C.a.get(a,{headers:r})}function _(e,t){var n="https://conduit.productionready.io/api/articles/".concat(e);return C.a.get(n,{headers:t})}function B(e,t){var n="https://conduit.productionready.io/api/articles/".concat(e,"/favorite");return C.a.post(n,null,{headers:t})}function N(e,t){var n="https://conduit.productionready.io/api/articles/".concat(e,"/favorite");return C.a.delete(n,{headers:t})}function R(e,t){return C.a.post("https://conduit.productionready.io/api/articles",e,{headers:t})}function P(e,t){var n="https://conduit.productionready.io/api/articles/".concat(e);return C.a.delete(n,{headers:t})}function q(e){return C.a.get("https://conduit.productionready.io/api/user",{headers:e})}function F(e,t){var n="https://conduit.productionready.io/api/profiles/".concat(e);return C.a.get(n,{headers:t})}function W(e,t,n){var r="https://conduit.productionready.io/api/articles/".concat(e);return C.a.put(r,t,{headers:n})}var V=n(227);function Q(){var e=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Q=function(){return e},e}function H(){var e=Object(h.a)(["\n  padding: 10px;\n  padding-top: 5px;\n  margin-bottom: 10px;\n"]);return H=function(){return e},e}function X(){var e=Object(h.a)(["\n  display: flex;\n"]);return X=function(){return e},e}function J(){var e=Object(h.a)(["\n  display: block;\n  background-color: white;\n  width: 100px;\n  height: 100px;\n  border-radius: 10px;\n  margin-bottom: 5px;\n"]);return J=function(){return e},e}function Z(){var e=Object(h.a)(["\n  border: 1px solid gray;\n  border-radius: 10px;\n  padding: 12px;\n  margin-bottom: 30px;\n  margin-top: 15px;\n  background-color: #e0e0e0;\n  display: flex;\n  flex-direction: column;\n"]);return Z=function(){return e},e}function G(){var e=Object(h.a)(["\n  padding: 8px;\n"]);return G=function(){return e},e}function K(){var e=Object(h.a)(["\n  margin-bottom: 20px;\n  text-align: center;\n"]);return K=function(){return e},e}function Y(){var e=Object(h.a)(["\n  min-height: 800px;\n  border: 1px solid gray;\n  border-radius: 10px;\n  box-shadow: 0 0 6px 0 #34495e;\n  padding: 12px;\n  min-width: 300px;\n  margin: 5px;\n  margin-right: 15px;\n  margin-top: 6px;\n"]);return Y=function(){return e},e}var $=function(e){Object(x.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(g.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).logout=function(){var t=e.props,n=t.authorization,r=t.history,a=t.setCurrentUser,i=t.setShowMode;n(!1),localStorage.clear(),a({}),i(""),r.push("/blog-platform/login")},e.getAllArticles=Object(m.a)(d.a.mark((function t(){var n,r,a,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props,r=n.setShowMode,a=n.history,i=n.setCurrentMenuItem,r(""),i("showAllArticles"),a.push("/blog-platform/login");case 4:case"end":return t.stop()}}),t)}))),e.getMyArticles=Object(m.a)(d.a.mark((function t(){var n,r,a,i,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props,r=n.setShowMode,a=n.currentUser,i=n.history,o=n.setCurrentMenuItem,r(a.username),o("showMyArticles"),i.push("/blog-platform/login");case 4:case"end":return t.stop()}}),t)}))),e.addArticle=function(){var t=e.props,n=t.history;(0,t.setCurrentMenuItem)("addArticle"),n.push("/blog-platform/add")},e.getCurrentUserProfile=Object(m.a)(d.a.mark((function t(){var n,r,a,i,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.setCurrentUser,r=z(),t.next=4,q(r);case 4:return a=t.sent,t.next=7,a.data;case 7:i=t.sent,o=i.user,n(o);case 10:case"end":return t.stop()}}),t)}))),e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.getCurrentUserProfile()}},{key:"render",value:function(){var e=this.props.currentMenuItem,t={width:"275px",marginBottom:"7px"},n={border:"1px solid gray",boxShadow:"0 0 4px 0 #34495e",width:"275px",marginBottom:"7px"},r=this.props.currentUser,i=r.image,o=r.username,l=r.email,c=r.bio,u=null===i?"https://static.productionready.io/images/smiley-cyrus.jpg":i,s=null===c?"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445":c;return a.a.createElement(te,null,a.a.createElement(ne,null,"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"),a.a.createElement(ae,null,a.a.createElement(oe,null,a.a.createElement(ie,{src:u,alt:""}),a.a.createElement(le,null,o," (",l,")")),a.a.createElement(re,null,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f: ",s)),a.a.createElement(ce,null,a.a.createElement(V.a,{variant:"contained",size:"small",onClick:this.getAllArticles,className:"active",style:"showAllArticles"===e?n:t},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"),a.a.createElement(V.a,{variant:"contained",size:"small",onClick:this.getMyArticles,style:"showMyArticles"===e?n:t},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u043c\u043e\u0438 \u0441\u0442\u0430\u0442\u044c\u0438"),a.a.createElement(V.a,{variant:"contained",size:"small",onClick:this.addArticle,style:"addArticle"===e?n:t},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"),a.a.createElement(V.a,{variant:"contained",size:"small",color:"primary",onClick:this.logout,style:{width:"275px",marginBottom:"5px"}},"\u0412\u044b\u0445\u043e\u0434")))}}]),n}(r.Component),ee=Object(u.b)((function(e){return{showQuantity:e.showQuantity,currentUser:e.currentUser,currentMenuItem:e.currentMenuItem}}),(function(e){return{setArticlesToStore:function(t,n){return e(E(t,n))},authorization:function(t){return e(w(t))},setShowMode:function(t){return e(O(t))},setCurrentUser:function(t){return e(j(t))},setCurrentMenuItem:function(t){return e(k(t))}}}))($),te=v.a.div(Y()),ne=v.a.div(K()),re=v.a.div(G()),ae=v.a.div(Z()),ie=v.a.img(J()),oe=v.a.div(X()),le=v.a.div(H()),ce=v.a.div(Q()),ue=n(56),se=n(231),pe=n(232),de=n(240),me=n(149),fe=n.n(me),he=n(87),ve=n.n(he),ge=n(104),be=n.n(ge),xe=n(242),ye=n(243),Ee=n(197);function we(){var e=Object(h.a)(["\n  display: block;\n  flex-grow: 1;\n  text-align: right;\n"]);return we=function(){return e},e}function Oe(){var e=Object(h.a)(["\n  color: #3f51b5;\n  font-size: 18px;\n  padding-top: 1px;\n"]);return Oe=function(){return e},e}function je(){var e=Object(h.a)(["\n  margin-right: 5px;\n"]);return je=function(){return e},e}function ke(){var e=Object(h.a)(["\n  display: flex;\n  text-align: left;\n"]);return ke=function(){return e},e}function Ae(){var e=Object(h.a)(["\n  display: flex;\n  border: 1px solid gray;\n  border-radius: 10px;\n  padding: 5px;\n  background-color: #e0e0e0;\n"]);return Ae=function(){return e},e}function Ce(){var e=Object(h.a)(["\n  overflow: auto;\n  flex-grow: 1;\n  margin-bottom: 5px;\n"]);return Ce=function(){return e},e}function ze(){var e=Object(h.a)(["\n  text-align: right;\n  font-size: 15px;\n  color: red;\n"]);return ze=function(){return e},e}function Se(){var e=Object(h.a)(["\n  color: #3a3833;\n  text-align: right;\n  font-size: 15px;\n"]);return Se=function(){return e},e}function Me(){var e=Object(h.a)(["\n  color: #3a3833;\n  font-size: 16px;\n  &:hover {\n    text-decoration: underline;\n  }\n"]);return Me=function(){return e},e}function Le(){var e=Object(h.a)(["\n  border: 1px solid gray;\n  border-radius: 10px;\n  padding: 7px;\n  background-color: #e0e0e0;\n  margin-bottom: 5px;\n"]);return Le=function(){return e},e}function Ue(){var e=Object(h.a)(["\n  text-align: right;\n"]);return Ue=function(){return e},e}function Ie(){var e=Object(h.a)(["\n  text-align: center;\n  flex-shrink: 0;\n  flex-grow: 1;\n  max-width: 190px;\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n  overflow: hidden;\n"]);return Ie=function(){return e},e}function Te(){var e=Object(h.a)(["\n  background-color: #3f51b5;\n  color: white;\n  border-radius: 10px;\n  padding: 10px 15px;\n  text-align: center;\n  display: flex;\n  margin-bottom: 5px;\n  max-height: 80px;\n"]);return Te=function(){return e},e}function De(){var e=Object(h.a)(["\n  width: 250px;\n  height: 280px;\n  display: flex;\n  flex-direction: column;\n  padding: 5px;\n"]);return De=function(){return e},e}var _e=function(e){Object(x.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(g.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={article:{tagList:[],author:{username:""}}},e.getArticleFromServer=function(){var t=Object(m.a)(d.a.mark((function t(n){var r,a,i,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.slug,t.next=3,_(r,n);case 3:if(200!==(a=t.sent).status){t.next=10;break}return t.next=7,a.data;case 7:i=t.sent,o=i.article,e.setState({article:o});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.toggleLike=function(t,n,r){n?e.setUnlike(t,r):e.setLike(t,r)},e.setLike=function(){var t=Object(m.a)(d.a.mark((function t(n,r){var a,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(n,r);case 2:a=t.sent,i=a.data.article,e.setState({article:i});case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.setUnlike=function(){var t=Object(m.a)(d.a.mark((function t(n,r){var a,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(n,r);case 2:a=t.sent,i=a.data.article,e.setState({article:i});case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.toggleLike=function(t,n,r){n?e.setUnlike(t,r):e.setLike(t,r)},e.deleteArticle=function(){var t=Object(m.a)(d.a.mark((function t(n,r){var a,i,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,i=a.history,o=a.setArticlesToState,t.next=3,P(n,r);case 3:if(200!==t.sent.status){t.next=8;break}return t.next=7,o([],0);case 7:i.push("/blog-platform/login");case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.toUserPage=function(t){e.props.history.push("/blog-platform/user/".concat(t))},e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.isAuthorized?z():null;this.getArticleFromServer(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.slug,r=t.currentUser,i=t.isAuthorized,o=this.state.article,c=o.title,u=o.author,s=o.tagList,p=o.favoritesCount,d=o.createdAt,m=o.updatedAt,f=o.favorited,h=i?z():null,v="/blog-platform/articles/".concat(n),g=d!==m,b=s.map((function(e){return a.a.createElement("li",{key:Object(ue.uniqueId)(),style:{margin:"5px"}},a.a.createElement(ye.a,{label:e,disabled:!0,color:"primary",style:{maxWidth:"120px",overflow:"hidden"}}))})),x=function(e){var t,n,r,a;if((n=Object(se.a)(new Date,new Date(e)))>=60){var i=0===(n-=60*(r=Object(pe.a)(new Date,new Date(e))))?"":"".concat(n," \u043c");if(t="".concat(r," \u0447 ").concat(i," \u043d\u0430\u0437\u0430\u0434"),r>=24){0===(r-=24*(a=Object(de.a)(new Date,new Date(e))))||"".concat(r," \u0447");return t="".concat(a," \u0434\u043d ").concat(r," \u0447  ").concat(i," \u043d\u0430\u0437\u0430\u0434")}return t}return t="".concat(n," \u043d\u0430\u0437\u0430\u0434")},y=x(d),E=x(m),w=a.a.createElement("div",null,a.a.createElement("span",{style:{color:"green",fontSize:"12px"}},"\u0421\u043e\u0437\u0434\u0430\u043d\u043e: "),y),O=g?a.a.createElement("div",null,a.a.createElement("span",{style:{color:"red",fontSize:"12px"}},"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u043e:"),E):null,j=i?f?a.a.createElement(xe.a,{title:"\u0423\u0431\u0440\u0430\u0442\u044c \u043b\u0430\u0439\u043a"},a.a.createElement(be.a,{color:"primary",className:"btnLike",alt:"like",onClick:function(){return e.toggleLike(n,f,h)}})):a.a.createElement(xe.a,{title:"\u041f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043b\u0430\u0439\u043a"},a.a.createElement(ve.a,{color:"primary",className:"btnLike",onClick:function(){return e.toggleLike(n,f,h)}})):a.a.createElement(xe.a,{title:"\u0414\u043b\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u043b\u0430\u0439\u043a\u0430\u0442\u044c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"},a.a.createElement(ve.a,{className:"btnLike"})),k=i&&r.username===u.username?a.a.createElement(qe,{className:"btnDelete"},a.a.createElement(xe.a,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"},a.a.createElement(fe.a,{className:"btnDelete",style:{fontSize:30},onClick:function(){return e.deleteArticle(n,h)}}))):null;return a.a.createElement(Ne,null,a.a.createElement(Re,null,a.a.createElement(Pe,null,c),a.a.createElement(qe,null,k)),a.a.createElement(Fe,null,a.a.createElement(xe.a,{title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0430\u0432\u0442\u043e\u0440\u0430"},a.a.createElement(We,{className:"authorDiv",onClick:function(){return e.toUserPage(u.username)}},u.username)),a.a.createElement(Ve,null,w),a.a.createElement(Qe,null,O)),a.a.createElement(He,null,a.a.createElement(Ee.a,{component:"ul",elevation:0,style:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",listStyle:"none",margin:"0px",padding:"0"}},b)),a.a.createElement(Xe,null,a.a.createElement(Je,{className:"btnLike"},a.a.createElement(Ze,{className:"btnLike"},j),a.a.createElement(Ge,null,p)),a.a.createElement(Ke,null,a.a.createElement(l.b,{to:v,style:{color:"#3a3833",fontSize:"14px"}},"\u0447\u0438\u0442\u0430\u0442\u044c \u0434\u0430\u043b\u044c\u0448\u0435 >>"))))}}]),n}(r.Component);var Be=Object(u.b)((function(e){return{articles:e.articles,currentUser:e.currentUser,isAuthorized:e.isAuthorized}}),(function(e){return{setArticlesToState:function(t,n){return e(E(t,n))}}}))(_e),Ne=v.a.div(De()),Re=v.a.div(Te()),Pe=v.a.div(Ie()),qe=v.a.div(Ue()),Fe=v.a.div(Le()),We=v.a.div(Me()),Ve=v.a.div(Se()),Qe=v.a.div(ze()),He=v.a.div(Ce()),Xe=v.a.div(Ae()),Je=v.a.div(ke()),Ze=v.a.div(je()),Ge=v.a.div(Oe()),Ke=v.a.span(we()),Ye=n(239);function $e(){var e=Object(h.a)(["\n  margin-left: auto;\n  margin-right: auto;\n  max-width: 500px;\n  flex-grow: 0;\n"]);return $e=function(){return e},e}function et(){var e=Object(h.a)(["\n  border: 1px solid gray;\n  border-radius: 10px;\n  box-shadow: 0 0 6px 0 #34495e;\n  cursor: pointer;\n  width: 250px;\n  height: 280px;\n  margin: 15px;\n  margin-top: 5px;\n  transition: 0.1s;\n  &:hover {\n    transform: scale(1.03);\n  }\n  display: flex;\n  flex-direction: column;\n"]);return et=function(){return e},e}function tt(){var e=Object(h.a)(["\n  display: flex;\n  min-width: 840px;\n  max-width: 1100px;\n  flex-wrap: wrap;\n  flex-grow: 1;\n  margin-bottom: 15px;\n  align-items: flex-start;\n  align-content: flex-start;\n  justify-content: flex-start;\n"]);return tt=function(){return e},e}function nt(){var e=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return nt=function(){return e},e}var rt=function(e){Object(x.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(g.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).getListArticles=Object(m.a)(d.a.mark((function t(){var n,r,a,i,o,l,c,u,s,p,m,f,h,v;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,r=n.showMode,a=n.showQuantity,i=n.setArticlesToState,o=n.isAuthorized,l=o?z():null,""!==r){t.next=14;break}return t.next=5,M(a,l);case 5:return c=t.sent,t.next=8,c.data;case 8:u=t.sent,s=u.articles,p=u.articlesCount,i(s,p),t.next=23;break;case 14:return t.next=16,L(a,r,l);case 16:return m=t.sent,t.next=19,m.data;case 19:f=t.sent,h=f.articles,v=f.articlesCount,i(h,v);case 23:case"end":return t.stop()}}),t)}))),e.openArticle=function(t,n){var r=e.props.history;t.target.parentElement.classList.contains("btnLike")||t.target.parentElement.classList.contains("btnDelete")||t.target.classList.contains("authorDiv")||r.push("/blog-platform/articles/".concat(n))},e.handleChangePagination=function(){var t=Object(m.a)(d.a.mark((function t(n){var r,a,i,o,l,c,u,s,p,m,f,h,v,g,b,x,y;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props,a=r.showMode,i=r.setArticlesToState,o=r.isAuthorized,l=r.showQuantity,c=n.currentTarget.textContent,u=a,s=c>1?9*c-9:null,p=o?z():null,""!==a){t.next=17;break}return t.next=8,T(l,s,p);case 8:return m=t.sent,t.next=11,m.data;case 11:f=t.sent,h=f.articles,v=f.articlesCount,i(h,v),t.next=26;break;case 17:return t.next=19,D(l,u,s,p);case 19:return g=t.sent,t.next=22,g.data;case 22:b=t.sent,x=b.articles,y=b.articlesCount,i(x,y);case 26:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.getListArticles()}},{key:"render",value:function(){var e=this,t=this.props,n=t.listArticles,r=t.articlesCount,i=t.currentPage,o=t.history,l=n.map((function(t){var n=t.slug;return a.a.createElement("div",{key:n,onClick:function(t){return e.openArticle(t,n)}},a.a.createElement(lt,null,a.a.createElement(Be,{slug:n,history:o})))})),c={count:Math.ceil(r/9),variant:"outlined",shape:"rounded",onChange:this.handleChangePagination,defaultPage:i,articles:n};return a.a.createElement(it,null,a.a.createElement(ot,null,l),a.a.createElement(ct,null,a.a.createElement(Ye.a,c)))}}]),n}(r.Component),at=Object(u.b)((function(e){return{listArticles:e.listArticles,articlesCount:e.articlesCount,isAuthorized:e.isAuthorized,showMode:e.showMode,showQuantity:e.showQuantity,currentPage:e.currentPage}}),(function(e){return{setArticlesToState:function(t,n){return e(E(t,n))}}}))(rt),it=v.a.div(nt()),ot=v.a.div(tt()),lt=v.a.div(et()),ct=v.a.div($e());function ut(){var e=Object(h.a)(["\n  display: flex;\n  margin-bottom: 15px;\n  margin-top: 20px;\n  min-height: 800px;\n"]);return ut=function(){return e},e}var st=v.a.div(ut());var pt=Object(u.b)((function(e){return{isAuthorized:e.isAuthorized}}))((function(e){var t=e.history,n=e.isAuthorized;n||t.push("/blog-platform/login");var r=n?a.a.createElement(ee,{history:t}):null,i=a.a.createElement(at,{history:t});return a.a.createElement(st,null,r,i)})),dt=n(19),mt=n(28),ft=n(238),ht=n(156),vt=n(244),gt=n(245),bt=n(246),xt=n(247),yt=n(235),Et=n(153),wt=n.n(Et),Ot=n(154),jt=n.n(Ot);function kt(e){var t=e.errors,n=e.touched,r=e.values,i=e.name,o=e.onChange,l=e.onBlur,c=e.label,u=e.labelWidth,s=e.required,p=a.a.useState({showPassword:!1}),d=Object(ht.a)(p,2),m=d[0],f=d[1];return a.a.createElement(vt.a,{size:"small",variant:"outlined",error:!!n[i]&&!!t[i]},a.a.createElement(gt.a,{htmlFor:"outlined-adornment-password",required:s},c),a.a.createElement(bt.a,{id:"outlined-adornment-password",size:"small",type:m.showPassword?"text":"password",value:r[i],name:i,onChange:o,onBlur:l,endAdornment:a.a.createElement(xt.a,{position:"end"},a.a.createElement(yt.a,{onClick:function(){f({showPassword:!m.showPassword})},edge:"end"},m.showPassword?a.a.createElement(wt.a,null):a.a.createElement(jt.a,null))),labelWidth:u}))}function At(){var e=Object(h.a)(["\n  height: 7px;\n  color: red;\n  padding-left: 10px;\n"]);return At=function(){return e},e}function Ct(){var e=Object(h.a)(["\n  max-width: 225px;\n  margin-bottom: 15px;\n"]);return Ct=function(){return e},e}function zt(){var e=Object(h.a)(["\n  margin-bottom: 20px;\n  text-align: center;\n"]);return zt=function(){return e},e}function St(){var e=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return St=function(){return e},e}function Mt(){var e=Object(h.a)(["\n  display: flex;\n  justify-content: center;\n  min-height: 800px;\n  border: 1px solid gray;\n  border-radius: 10px;\n  box-shadow: 0 0 6px 0 #34495e;\n  padding: 12px;\n  min-width: 300px;\n  margin: 5px;\n  margin-right: 15px;\n  margin-top: 6px;\n"]);return Mt=function(){return e},e}var Lt=mt.a().shape({name:mt.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),password:mt.b().min(8,"\u041d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(72,"\u041d\u0435 \u0431\u043e\u043b\u0435\u0435 72 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),email:mt.b().email("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")});var Ut=Object(u.b)((function(e){return{articles:e.articles,articlesCount:e.articlesCount,currentUser:e.currentUser,currentMenuItem:e.currentMenuItem,isAutorized:e.isAutorized,errorsSignup:e.errorsSignup}}),(function(e){return{setAuth:function(t){return e(w(t))},setCurrentUser:function(t){return e(j(t))},setCurrentMenuItem:function(t){return e(k(t))}}}))((function(e){var t=function(){var t=Object(m.a)(d.a.mark((function t(r,a){var i,o,l,c,u,s,p,m,f,h,v,g,b;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=a.setFieldError,o=e.setAuth,l=e.history,c=e.setCurrentUser,u=e.setCurrentMenuItem,s=r.name,p=r.email,m=r.password,f={user:{username:s,email:p,password:m}},t.prev=4,t.next=7,I(f);case 7:if(200!==t.sent.status){t.next=22;break}return h={user:{email:p,password:m}},t.next=12,U(h);case 12:return v=t.sent,t.next=15,v.data;case 15:g=t.sent,b=g.user,n(b),c(b),o(!0),u("showAllArticles"),l.push("/blog-platform");case 22:t.next=29;break;case 24:t.prev=24,t.t0=t.catch(4),i("email",t.t0.response.data.errors.email),i("name",t.t0.response.data.errors.username),i("password",t.t0.response.data.errors.password);case 29:case"end":return t.stop()}}),t,null,[[4,24]])})));return function(e,n){return t.apply(this,arguments)}}(),n=function(e){var t=e.token;localStorage.setItem("token",t)};return a.a.createElement(dt.c,{initialValues:{name:"",password:"",email:""},onSubmit:t,validationSchema:Lt},(function(e){var t=e.values,n=e.handleChange,r=e.handleBlur,i=e.errors,o=e.touched,c=e.dirty,u=e.isValid,s={size:"small",name:"name",as:"input",component:ft.a,label:"\u0418\u043c\u044f",variant:"outlined",error:o.name&&Boolean(i.name),value:t.name,onChange:n("name"),onBlur:r("name"),required:!0},p={size:"small",name:"email",as:"input",component:ft.a,label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430",variant:"outlined",onChange:n("email"),error:o.email&&Boolean(i.email),onBlur:r("email"),required:!0},d={name:"password",errors:i,values:t,touched:o,onChange:n("password"),onBlur:r("password"),label:"\u041f\u0430\u0440\u043e\u043b\u044c",labelWidth:65,required:!0};return a.a.createElement(It,null,a.a.createElement(dt.b,null,a.a.createElement(Tt,null,a.a.createElement(Dt,null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),a.a.createElement(_t,null,a.a.createElement(dt.a,s),a.a.createElement(Bt,null,o.name?i.name:"")),a.a.createElement(_t,null,a.a.createElement(dt.a,p),a.a.createElement(Bt,null,o.email?i.email:"")),a.a.createElement(_t,null,a.a.createElement(kt,d),a.a.createElement(Bt,null,o.password?i.password:"")),a.a.createElement(V.a,{variant:"contained",size:"small",color:"primary",disabled:!c||!u,type:"submit"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),a.a.createElement(l.b,{to:"/blog-platform/login",style:{color:"#3a3833",marginTop:"20px"}},"\u0412\u043e\u0439\u0442\u0438"))))}))})),It=v.a.div(Mt()),Tt=v.a.div(St()),Dt=v.a.div(zt()),_t=v.a.div(Ct()),Bt=v.a.div(At());function Nt(){var e=Object(h.a)(["\n  display: flex;\n  margin-bottom: 15px;\n  margin-top: 20px;\n"]);return Nt=function(){return e},e}var Rt=Object(u.b)((function(e){return{isAuthorized:e.isAuthorized}}))((function(e){var t=e.history,n=e.isAuthorized;n&&t.push("/blog-platform");var r=n?null:a.a.createElement(Ut,{history:t}),i=a.a.createElement(at,{history:t});return a.a.createElement(Pt,null,r,i)})),Pt=v.a.div(Nt());function qt(){var e=Object(h.a)(["\n  height: 7px;\n  color: red;\n"]);return qt=function(){return e},e}function Ft(){var e=Object(h.a)(["\n  max-width: 225px;\n  margin-bottom: 20px;\n"]);return Ft=function(){return e},e}function Wt(){var e=Object(h.a)(["\n  margin-bottom: 20px;\n  text-align: center;\n"]);return Wt=function(){return e},e}function Vt(){var e=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Vt=function(){return e},e}function Qt(){var e=Object(h.a)(["\n  display: flex;\n  justify-content: center;\n  min-height: 800px;\n  border: 1px solid gray;\n  border-radius: 10px;\n  box-shadow: 0 0 6px 0 #34495e;\n  padding: 12px;\n  min-width: 300px;\n  margin: 5px;\n  margin-right: 15px;\n  margin-top: 6px;\n"]);return Qt=function(){return e},e}var Ht=Object(u.b)(null,(function(e){return{setAuth:function(t){return e(w(t))},setCurrentUser:function(t){return e(j(t))},setCurrentMenuItem:function(t){return e(k(t))}}}))((function(e){var t=function(){var t=Object(m.a)(d.a.mark((function t(r,a){var i,o,l,c,u,s,p,m,f,h,v;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=a.setFieldError,o=e.setAuth,l=e.history,c=e.setCurrentUser,u=e.setCurrentMenuItem,s=r.email,p=r.password,m={user:{email:s,password:p}},t.prev=4,t.next=7,U(m);case 7:if(200!==(f=t.sent).status){t.next=18;break}return t.next=11,f.data;case 11:h=t.sent,v=h.user,n(v),c(v),o(!0),u("showAllArticles"),l.push("/blog-platform");case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(4),i("email","\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"),i("password"," ");case 24:case"end":return t.stop()}}),t,null,[[4,20]])})));return function(e,n){return t.apply(this,arguments)}}(),n=function(e){var t=e.token;localStorage.setItem("token",t)};return a.a.createElement(dt.c,{initialValues:{password:"",email:""},onSubmit:t},(function(e){var t=e.values,n=e.handleChange,r=e.handleBlur,i=e.errors,o=e.touched,c=e.dirty,u=e.isValid,s={size:"small",name:"email",as:"input",component:ft.a,label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430",variant:"outlined",onChange:n("email"),error:o.email&&Boolean(i.email),onBlur:r("email")},p={name:"password",errors:i,values:t,touched:o,onChange:n("password"),onBlur:r("password"),label:"\u041f\u0430\u0440\u043e\u043b\u044c",labelWidth:65,required:!0};return a.a.createElement(Xt,null,a.a.createElement(dt.b,null,a.a.createElement(Jt,null,a.a.createElement(Zt,null,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f",a.a.createElement(Kt,null,o.email?i.email:"")),a.a.createElement(Gt,null,a.a.createElement(dt.a,s)),a.a.createElement(Gt,null,a.a.createElement(kt,p)),a.a.createElement(V.a,{variant:"contained",size:"small",color:"primary",disabled:!c||!u,type:"submit"},"\u0412\u043e\u0439\u0442\u0438"),a.a.createElement(l.b,{to:"/blog-platform/signup",style:{color:"#3a3833",marginTop:"20px"}},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"))))}))})),Xt=v.a.div(Qt()),Jt=v.a.div(Vt()),Zt=v.a.div(Wt()),Gt=v.a.div(Ft()),Kt=v.a.div(qt());function Yt(){var e=Object(h.a)(["\n  display: flex;\n  margin-bottom: 15px;\n  margin-top: 20px;\n"]);return Yt=function(){return e},e}var $t=Object(u.b)((function(e){return{isAuthorized:e.isAuthorized}}))((function(e){var t=e.history,n=e.isAuthorized;n&&t.push("/blog-platform");var r=n?null:a.a.createElement(Ht,{history:t}),i=a.a.createElement(at,{history:t});return a.a.createElement(en,null,r,i)})),en=v.a.div(Yt());function tn(){var e=Object(h.a)(["\n  padding: '0';\n"]);return tn=function(){return e},e}function nn(){var e=Object(h.a)(["\n  color: #3f51b5;\n  font-size: 25px;\n"]);return nn=function(){return e},e}function rn(){var e=Object(h.a)(["\n  margin-right: 5px;\n"]);return rn=function(){return e},e}function an(){var e=Object(h.a)(["\n  display: flex;\n  cursor: pointer;\n  padding: 10px;\n"]);return an=function(){return e},e}function on(){var e=Object(h.a)(["\n  margin-bottom: 10px;\n  overflow-wrap: break-word;\n  padding: 10px;\n"]);return on=function(){return e},e}function ln(){var e=Object(h.a)(["\n  margin-bottom: 10px;\n  padding: 10px;\n"]);return ln=function(){return e},e}function cn(){var e=Object(h.a)(["\n  font-size: 22px;\n  overflow-wrap: break-word;\n  padding: 10px;\n"]);return cn=function(){return e},e}function un(){var e=Object(h.a)(["\n  margin: 10px;\n"]);return un=function(){return e},e}function sn(){var e=Object(h.a)(["\n  display: flex;\n"]);return sn=function(){return e},e}function pn(){var e=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return pn=function(){return e},e}function dn(){var e=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  min-width: 840px;\n  max-width: 950px;\n  min-height: 800px;\n  border: 1px solid gray;\n  border-radius: 10px;\n  box-shadow: 0 0 6px 0 #34495e;\n  padding: 12px;\n  margin: 5px;\n  margin-right: 15px;\n"]);return dn=function(){return e},e}var mn=function(e){Object(x.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(g.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={article:{title:null,author:{username:null},body:null,favorited:null,favoritesCount:null,tagList:[]}},e.getArticleFromServer=function(){var t=Object(m.a)(d.a.mark((function t(n){var r,a,i,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.slug,t.next=3,_(r,n);case 3:return a=t.sent,t.next=6,a.data;case 6:i=t.sent,o=i.article,e.setState({article:o});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.toggleLike=function(t,n){t?e.setUnlike(n):e.setLike(n)},e.setLike=function(){var t=Object(m.a)(d.a.mark((function t(n){var r,a,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.slug,t.next=3,B(r,n);case 3:a=t.sent,i=a.data.article,e.setState({article:i});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.setUnlike=function(){var t=Object(m.a)(d.a.mark((function t(n){var r,a,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.slug,t.next=3,N(r,n);case 3:a=t.sent,i=a.data.article,e.setState({article:i});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.toEdit=function(){var t=e.props,n=t.slug;t.history.push("/blog-platform/articles/".concat(n,"/edit"))},e.deleteArticle=Object(m.a)(d.a.mark((function t(){var n,r,a,i,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.slug,a=n.history,i=n.setArticlesToState,o=z(),t.next=4,P(r,o);case 4:if(200!==t.sent.status){t.next=9;break}return t.next=8,i([],0);case 8:a.push("/blog-platform");case 9:case"end":return t.stop()}}),t)}))),e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setCurrentMenuItem,n=e.isAuthorized?z():null;this.getArticleFromServer(n),t("")}},{key:"render",value:function(){var e=this,t=this.props,n=t.isAuthorized,r=t.currentUser,i=this.state.article,o=i.title,l=i.author,c=i.body,u=i.tagList,s=i.favorited,p=i.favoritesCount,d=n?z():null,m=a.a.createElement(jn,null,a.a.createElement(Ee.a,{component:"ul",className:"",elevation:0,style:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",listStyle:"none",paddingLeft:"10px"}},u.map((function(e){return a.a.createElement("li",{key:Object(ue.uniqueId)(),style:{margin:"5px"}},a.a.createElement(ye.a,{label:e,disabled:!0,color:"primary",style:{maxWidth:"120px",overflow:"hidden"}}))})))),f=n&&r.username===l.username?a.a.createElement(gn,null,a.a.createElement(V.a,{variant:"contained",size:"small",onClick:this.toEdit},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")):null,h=n&&r.username===l.username?a.a.createElement(gn,null,a.a.createElement(V.a,{variant:"contained",size:"small",onClick:this.deleteArticle},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")):null,v=n?s?a.a.createElement(be.a,{className:"btnLike",alt:"like",color:"primary",style:{fontSize:30},onClick:function(t){return e.toggleLike(s,d)}}):a.a.createElement(ve.a,{className:"btnLike",color:"primary",style:{fontSize:30},onClick:function(t){return e.toggleLike(s,d)}}):a.a.createElement(ve.a,{color:"primary",className:"btnLike",alt:"like"});return a.a.createElement(a.a.Fragment,null,a.a.createElement(fn,null,a.a.createElement(vn,null,f,h),a.a.createElement(hn,null,a.a.createElement(bn,null,o),a.a.createElement(xn,null,l.username),a.a.createElement(yn,null,c),a.a.createElement("div",null,m),a.a.createElement(En,{className:"btnLike"},a.a.createElement(wn,{className:"btnLike"},v),a.a.createElement(On,null,p)))))}}]),n}(r.Component),fn=v.a.div(dn()),hn=v.a.div(pn()),vn=v.a.div(sn()),gn=v.a.div(un()),bn=v.a.div(cn()),xn=v.a.div(ln()),yn=v.a.div(on()),En=v.a.div(an()),wn=v.a.div(rn()),On=v.a.div(nn()),jn=v.a.div(tn()),kn=Object(u.b)((function(e){return{isAuthorized:e.isAuthorized,currentUser:e.currentUser}}),(function(e){return{setArticlesToState:function(t,n){return e(E(t,n))},setCurrentMenuItem:function(t){return e(k(t))}}}))(mn);function An(){var e=Object(h.a)(["\n  display: flex;\n  margin-bottom: 15px;\n  margin-top: 20px;\n  min-height: 800px;\n"]);return An=function(){return e},e}var Cn=v.a.div(An()),zn=Object(u.b)((function(e){return{isAuthorized:e.isAuthorized}}))((function(e){var t=e.match.params.slug,n=e.history,r={history:n,slug:t},i=e.isAuthorized?a.a.createElement(ee,{history:n}):a.a.createElement(Ht,{history:n}),o=a.a.createElement(kn,r);return a.a.createElement(Cn,null,i,o)}));function Sn(){var e=Object(h.a)(["\n  margin: 10px;\n"]);return Sn=function(){return e},e}function Mn(){var e=Object(h.a)(["\n  padding: 8px;\n"]);return Mn=function(){return e},e}function Ln(){var e=Object(h.a)(["\n  padding: 8px;\n"]);return Ln=function(){return e},e}function Un(){var e=Object(h.a)(["\n  display: block;\n  background-color: white;\n  width: 100px;\n  height: 100px;\n  border-radius: 10px;\n  margin-bottom: 5px;\n"]);return Un=function(){return e},e}function In(){var e=Object(h.a)(["\n  text-align: center;\n  font-size: 22px;\n  margin-bottom: 15px;\n"]);return In=function(){return e},e}function Tn(){var e=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  min-width: 840px;\n  max-width: 950px;\n  min-height: 800px;\n  border: 1px solid gray;\n  border-radius: 10px;\n  box-shadow: 0 0 6px 0 #34495e;\n  padding: 12px;\n  margin: 5px;\n  margin-right: 15px;\n"]);return Tn=function(){return e},e}var Dn=function(e){Object(x.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(g.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={profile:{username:"",bio:"",image:"https://static.productionready.io/images/smiley-cyrus.jpg",following:!1}},e.getUserArticles=function(){var t=Object(m.a)(d.a.mark((function t(n){var r,a,i,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.props,a=r.setShowMode,i=r.history,o=r.setCurrentMenuItem,a(n),o(""),i.push("/blog-platform");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getUserProfileFromServer=function(){var t=Object(m.a)(d.a.mark((function t(n){var r,a,i,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.username,t.next=3,F(r,n);case 3:return a=t.sent,t.next=6,a.data;case 6:i=t.sent,o=i.profile,e.setState({profile:o});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setCurrentMenuItem,n=e.isAuthorized?z():null;this.getUserProfileFromServer(n),t("")}},{key:"render",value:function(){var e=this,t=this.state.profile,n=t.username,r=t.image,i=t.following,o=t.bio,l=null===o?"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445":o,c=!1===i?"\u041d\u0435\u0442":"\u0414\u0430";return a.a.createElement(Bn,null,a.a.createElement(Nn,null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c: ",n),a.a.createElement(Rn,{src:r,alt:""}),a.a.createElement(Pn,null,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f: ",l),a.a.createElement(qn,null,"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430: ",c),a.a.createElement(Fn,null,a.a.createElement(V.a,{variant:"contained",size:"small",onClick:function(){return e.getUserArticles(n)}},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0442\u044c\u0438 ",n)))}}]),n}(r.Component),_n=Object(u.b)((function(e){return{isAuthorized:e.isAuthorized}}),(function(e){return{setShowMode:function(t){return e(O(t))},setCurrentMenuItem:function(t){return e(k(t))}}}))(Dn),Bn=v.a.div(Tn()),Nn=v.a.div(In()),Rn=v.a.img(Un()),Pn=v.a.div(Ln()),qn=v.a.div(Mn()),Fn=v.a.div(Sn());function Wn(){var e=Object(h.a)(["\n  display: flex;\n  margin-bottom: 15px;\n  margin-top: 20px;\n  min-height: 800px;\n"]);return Wn=function(){return e},e}var Vn=v.a.div(Wn()),Qn=Object(u.b)((function(e){return{isAuthorized:e.isAuthorized}}))((function(e){var t=e.match.params.username,n=e.history,r={history:n,username:t},i=e.isAuthorized?a.a.createElement(ee,{history:n}):a.a.createElement(Ht,{history:n}),o=a.a.createElement(_n,r);return a.a.createElement(Vn,null,i,o)})),Hn=n(198);function Xn(){var e=Object(h.a)(["\n  padding: '0';\n"]);return Xn=function(){return e},e}function Jn(){var e=Object(h.a)(["\n  display: flex;\n"]);return Jn=function(){return e},e}function Zn(){var e=Object(h.a)(["\n  height: 7px;\n  color: red;\n  padding-left: 10px;\n"]);return Zn=function(){return e},e}function Gn(){var e=Object(h.a)(["\n  margin-bottom: 15px;\n"]);return Gn=function(){return e},e}function Kn(){var e=Object(h.a)(["\n  display: flex;\n  margin-bottom: 15px;\n"]);return Kn=function(){return e},e}function Yn(){var e=Object(h.a)(["\n  text-align: left;\n"]);return Yn=function(){return e},e}function $n(){var e=Object(h.a)(["\n  text-align: center;\n  font-size: 22px;\n  margin-bottom: 15px;\n"]);return $n=function(){return e},e}function er(){var e=Object(h.a)(["\n  max-width: 1600px;\n  min-height: 800px;\n  border: 1px solid gray;\n  border-radius: 10px;\n  box-shadow: 0 0 6px 0 #34495e;\n  padding: 12px;\n  padding-left: 50px;\n  min-width: 800px;\n  margin: 5px;\n  margin-right: 15px;\n"]);return er=function(){return e},e}var tr=mt.a().shape({title:mt.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),description:mt.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),body:mt.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),nr=function(e){Object(x.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(g.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={tags:[]},e.addTag=function(t){var n={key:Object(ue.uniqueId)(),label:t},r=e.state.tags;r.push(n),e.setState({tags:r})},e.handleDelete=function(t){var n=e.state.tags.filter((function(e){return e.key!==t.key}));e.setState({tags:n})},e.handleSubmit=function(){var t=Object(m.a)(d.a.mark((function t(n){var r,a,i,o,l,c,u;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=z(),a=n.title,i=n.description,o=n.body,l=e.state.tags,c=[],l.map((function(e){return c.push(e.label)})),u={article:{title:a,description:i,body:o,tagList:c}},t.next=8,R(u,r);case 8:e.props.history.push("/blog-platform/");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(b.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement(dt.c,{initialValues:{title:"",description:"",body:"",tags:[]},onSubmit:this.handleSubmit,validationSchema:tr},(function(t){var n=t.values,r=t.handleChange,i=t.handleBlur,o=t.errors,l=t.touched,c=t.dirty,u=t.isValid,s=t.setFieldValue,p={size:"small",name:"title",as:"input",component:ft.a,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438",variant:"outlined",error:l.title&&Boolean(o.title),value:n.title,onChange:r("title"),onBlur:i("title"),width:225,required:!0},d={size:"small",name:"description",as:"input",component:ft.a,label:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",variant:"outlined",error:l.description&&Boolean(o.description),value:n.description,onChange:r("description"),onBlur:i("description"),required:!0},m={size:"small",name:"tag",as:"input",component:ft.a,label:"\u0422\u0435\u0433",variant:"outlined",value:n.tag,onChange:r("tag"),error:l.tag&&Boolean(o.tag),onBlur:i("tag")},f={size:"small",name:"body",as:"input",component:ft.a,label:"\u0422\u0435\u043a\u0441\u0442 \u0441\u0442\u0430\u0442\u044c\u0438",variant:"outlined",value:n.body,onChange:r("body"),onBlur:i("body"),rowsMin:"25",required:!0};return a.a.createElement(rr,null,a.a.createElement(ar,null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"),a.a.createElement(dt.b,null,a.a.createElement(ir,null,a.a.createElement(or,null,a.a.createElement(dt.a,p),a.a.createElement(cr,null,l.title?o.title:"")),a.a.createElement(or,null,a.a.createElement(dt.a,d),a.a.createElement(cr,null,l.description?o.description:"")),a.a.createElement(or,null,a.a.createElement(dt.a,Object.assign({},m,{style:{marginRight:"15px"}})),a.a.createElement(ur,null,a.a.createElement(V.a,{variant:"contained",size:"small",color:"secondary",onClick:function(){n.tag.trim()&&(e.addTag(n.tag),s("tag",""))}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u0433"))),a.a.createElement(sr,null,a.a.createElement(Ee.a,{component:"ul",className:"",elevation:0,style:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",listStyle:"none",minHeight:"45px"}},e.state.tags.map((function(t){return a.a.createElement("li",{key:t.key,style:{margin:"5px"}},a.a.createElement(ye.a,{label:t.label,onDelete:function(){return e.handleDelete(t)},style:{maxWidth:"120px",overflow:"hidden"}}))})))),l.tags?o.tags:"",a.a.createElement(lr,null,a.a.createElement(Hn.a,f),a.a.createElement(cr,null,l.body?o.body:"")),a.a.createElement(V.a,{variant:"contained",size:"small",color:"primary",disabled:!c||!u,type:"submit"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"))))}))}}]),n}(r.Component),rr=v.a.div(er()),ar=v.a.div($n()),ir=v.a.div(Yn()),or=v.a.div(Kn()),lr=v.a.div(Gn()),cr=v.a.div(Zn()),ur=v.a.div(Jn()),sr=v.a.div(Xn()),pr=Object(u.b)()(nr);function dr(){var e=Object(h.a)(["\n  display: flex;\n  margin-bottom: 15px;\n  margin-top: 20px;\n  min-height: 800px;\n"]);return dr=function(){return e},e}var mr=v.a.div(dr());var fr=Object(u.b)((function(e){return{isAuthorized:e.isAuthorized}}))((function(e){var t=e.history,n=e.isAuthorized;n||t.push("/blog-platform/login");var r=n?a.a.createElement(ee,{history:t}):null,i=a.a.createElement(pr,{history:t});return a.a.createElement(mr,null,r,i)}));function hr(){var e=Object(h.a)(["\n  margin: 10px;\n"]);return hr=function(){return e},e}function vr(){var e=Object(h.a)(["\n  display: flex;\n"]);return vr=function(){return e},e}function gr(){var e=Object(h.a)(["\n  padding: '0';\n"]);return gr=function(){return e},e}function br(){var e=Object(h.a)(["\n  height: 7px;\n  color: red;\n  padding-left: 10px;\n"]);return br=function(){return e},e}function xr(){var e=Object(h.a)(["\n  margin-bottom: 15px;\n"]);return xr=function(){return e},e}function yr(){var e=Object(h.a)(["\n  display: flex;\n  margin-bottom: 15px;\n"]);return yr=function(){return e},e}function Er(){var e=Object(h.a)(["\n  text-align: left;\n"]);return Er=function(){return e},e}function wr(){var e=Object(h.a)(["\n  text-align: center;\n  font-size: 22px;\n  margin-bottom: 15px;\n"]);return wr=function(){return e},e}function Or(){var e=Object(h.a)(["\n  max-width: 1600px;\n  min-height: 800px;\n  border: 1px solid gray;\n  border-radius: 10px;\n  box-shadow: 0 0 6px 0 #34495e;\n  padding: 12px;\n  min-width: 800px;\n  margin: 5px;\n  margin-right: 15px;\n"]);return Or=function(){return e},e}var jr=mt.a().shape({title:mt.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),description:mt.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),body:mt.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),kr=function(e){Object(x.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(g.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={article:{title:"",description:"",tagList:[],body:"",author:{username:""}}},e.addTag=function(t){var n=e.state.article,r=n.title,a=n.description,i=n.body,o=n.tagList;o.push(t),e.setState({article:{title:r,tagList:o,description:a,body:i}})},e.handleDelete=function(t){var n=e.state.article,r=n.title,a=n.description,i=n.body,o=n.tagList.filter((function(e){return e!==t}));e.setState({article:{title:r,tagList:o,description:a,body:i}})},e.getArticleFromServer=function(){var t=Object(m.a)(d.a.mark((function t(n){var r,a,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.a.get("https://conduit.productionready.io/api/articles/".concat(n));case 2:return r=t.sent,t.next=5,r.data;case 5:a=t.sent,i=a.article,e.setState({article:i});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSubmit=function(){var t=Object(m.a)(d.a.mark((function t(n){var r,a,i,o,l,c,u,s,p;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.slug,a=void 0===r?"":r,i=z(),o=e.state.article.tagList,l=n.title,c=n.description,u=n.body,s={article:{title:l,description:c,body:u,tagList:o}},console.log("\u043f\u0435\u0440\u0435\u0434 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u043e\u0439: ",s),t.next=8,W(a,s,i);case 8:p=t.sent,console.log("response ",p.data),e.props.history.push("/blog-platform/");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteArticle=Object(m.a)(d.a.mark((function t(){var n,r,a,i,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.slug,a=n.history,i=n.setArticlesToState,o=z(),t.next=4,P(r,o);case 4:if(200!==t.sent.status){t.next=9;break}return t.next=8,i([],0);case 8:a.push("/blog-platform");case 9:case"end":return t.stop()}}),t)}))),e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.slug,t=void 0===e?"":e;this.getArticleFromServer(t)}},{key:"render",value:function(){var e=this,t=this.state.article,n=t.title,r=t.description,i=t.body,o=t.tagList,l={title:n,description:r,body:i,tags:o};return a.a.createElement(dt.c,{enableReinitialize:!0,initialValues:l,onSubmit:this.handleSubmit,validationSchema:jr},(function(t){var n=t.values,r=t.initialValues,i=t.handleChange,l=t.handleBlur,c=t.errors,u=t.touched,s=t.dirty,p=t.isValid,d=t.setFieldValue,m={size:"small",name:"title",as:"input",component:ft.a,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438",variant:"outlined",error:c.title,initialvalue:r.title,value:n.title,onChange:i("title"),onBlur:l("title"),width:225},f={size:"small",name:"body",as:"input",component:ft.a,label:"\u0422\u0435\u043a\u0441\u0442 \u0441\u0442\u0430\u0442\u044c\u0438",variant:"outlined",error:c.body,value:n.body,onChange:i("body"),onBlur:l("body"),rows:"10",width:"225"},h={size:"small",name:"description",as:"input",component:ft.a,label:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",variant:"outlined",error:c.description,value:n.description,onChange:i("description"),onBlur:l("description"),width:"225"},v={size:"small",name:"tag",as:"input",component:ft.a,label:"\u0422\u0435\u0433",variant:"outlined",error:u.tag&&Boolean(c.tag),value:n.tag,onChange:i("tag"),onBlur:l("tag"),width:"225"};return a.a.createElement(Ar,null,a.a.createElement(Cr,null,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"),a.a.createElement(dt.b,null,a.a.createElement(zr,null,a.a.createElement(Sr,null,a.a.createElement(dt.a,m),a.a.createElement(Lr,null,u.title?c.title:"")),a.a.createElement(Sr,null,a.a.createElement(dt.a,h),a.a.createElement(Lr,null,u.description?c.description:"")),a.a.createElement(Sr,null,a.a.createElement(dt.a,Object.assign({},v,{style:{marginRight:"15px"}})),a.a.createElement(Ir,null,a.a.createElement(V.a,{variant:"contained",size:"small",color:"secondary",onClick:function(){n.tag.trim()&&(e.addTag(n.tag),d("tag",""))}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u0433"))),a.a.createElement(Ur,null,a.a.createElement(Ee.a,{component:"ul",className:"",elevation:0,style:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",listStyle:"none",minHeight:"45px"}},o.map((function(t){return a.a.createElement("li",{key:Object(ue.uniqueId)(),style:{margin:"5px"}},a.a.createElement(ye.a,{label:t,onDelete:function(){return e.handleDelete(t)},style:{maxWidth:"120px",overflow:"hidden"}}))})))),u.name?c.name:"",a.a.createElement(Mr,null,a.a.createElement(Hn.a,f),a.a.createElement(Lr,null,u.body?c.body:"")),a.a.createElement(Ir,null,a.a.createElement(Tr,null,a.a.createElement(V.a,{variant:"contained",size:"small",color:"primary",disabled:!s||!p,type:"submit"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")),a.a.createElement(Tr,null,a.a.createElement(V.a,{variant:"contained",size:"small",onClick:e.deleteArticle},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"))))))}))}}]),n}(r.Component),Ar=v.a.div(Or()),Cr=v.a.div(wr()),zr=v.a.div(Er()),Sr=v.a.div(yr()),Mr=v.a.div(xr()),Lr=v.a.div(br()),Ur=v.a.div(gr()),Ir=v.a.div(vr()),Tr=v.a.div(hr()),Dr=Object(u.b)((function(e){return{currentUser:e.currentUser}}),(function(e){return{setArticlesToState:function(t,n){return e(E(t,n))}}}))(kr);function _r(){var e=Object(h.a)(["\n  display: flex;\n  margin-bottom: 15px;\n  margin-top: 20px;\n  min-height: 800px;\n"]);return _r=function(){return e},e}var Br=v.a.div(_r()),Nr=Object(u.b)((function(e){return{isAuthorized:e.isAuthorized}}))((function(e){var t=e.history,n=e.isAuthorized,r=e.match.params.slug;n||t.push("/blog-platform/login");var i=n?a.a.createElement(ee,{history:t}):null,o=a.a.createElement(Dr,{history:t,slug:r});return a.a.createElement(Br,null,i,o)})),Rr=n(236),Pr=n(237),qr=n(155),Fr=n.n(qr);function Wr(e){return a.a.createElement("div",null,a.a.createElement(Rr.a,{position:"static",style:{borderRadius:"10px"}},a.a.createElement(Pr.a,null,a.a.createElement(yt.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){}},a.a.createElement(Fr.a,null)))))}var Vr=Object(u.b)(null,(function(e){return{setCurrentUser:function(t){return e(j(t))},setAuth:function(t){return e(w(t))}}}))((function(e){var t=function(){var t=Object(m.a)(d.a.mark((function t(n){var r,a,i,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.setCurrentUser,t.next=3,S(n);case 3:return a=t.sent,t.next=6,a.data;case 6:i=t.sent,o=i.user,r(o);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n=e.setAuth;return localStorage.getItem("token")?(n(!0),t(z())):n(!1),a.a.createElement("div",{className:"app"},a.a.createElement(Wr,null),a.a.createElement(f.a,{exact:!0,path:"/blog-platform",component:pt}),a.a.createElement(f.a,{path:"/blog-platform/signup",component:Rt}),a.a.createElement(f.a,{path:"/blog-platform/login",component:$t}),a.a.createElement(f.a,{path:"/blog-platform/add",component:fr}),a.a.createElement(f.a,{exact:!0,path:"/blog-platform/articles/:slug",component:zn}),a.a.createElement(f.a,{exact:!0,path:"/blog-platform/user/:username",component:Qn}),a.a.createElement(f.a,{path:"/blog-platform/articles/:slug/edit",component:Nr}))})),Qr=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):c.c)(Object(c.a)()),Hr=Object(c.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.listArticles,a=t.articlesCount,i=t.currentArticle,o=t.isAuthorized,l=t.currentUser,c=t.currentMenuItem,u=t.showMode,p=t.currentPage;switch(n){case"ARTICLES_LOADED":return Object.assign({},e,{listArticles:r,articlesCount:a});case"CURRENT_ARTICLE_LOADED":return Object.assign({},e,{currentArticle:i});case"SET_AUTHORIZED":return Object.assign({},e,{isAuthorized:o});case"SHOW_MODE":return Object.assign({},e,{showMode:u});case"CURRENT_USER_PROFILE_LOAD":return Object.assign({},e,{currentUser:l});case"SET_CURRENT_MENU_ITEM":return Object.assign({},e,{currentMenuItem:c});case"SET_CURRENT_PAGE":return Object.assign({},e,{currentPage:p});default:return e}}),Qr),Xr=a.a.createElement(u.a,{store:Hr},a.a.createElement(l.a,null,a.a.createElement(Vr,null)));o.a.render(Xr,document.getElementById("root"))}},[[166,1,2]]]);
//# sourceMappingURL=main.9c626a69.chunk.js.map