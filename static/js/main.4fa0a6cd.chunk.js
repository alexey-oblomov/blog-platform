(this["webpackJsonpblog-platform"]=this["webpackJsonpblog-platform"]||[]).push([[0],{167:function(e,t,n){e.exports=n(197)},176:function(e,t,n){},197:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(14),o=n.n(i),c=n(53),l=n(85),u=n(10),s=n(24),p={listArticles:[],articlesCount:0,isAuthorized:!1,showMode:"",currentUser:{},showQuantity:9,currentPage:""};var d=n(8),m=n.n(d),f=n(13),h=(n(176),n(19)),v=n(3),g=n(4),b=n(30),x=n(31),E=n(35),y=n(33),w=function(e,t){return{type:"ARTICLES_LOADED",listArticles:e,articlesCount:t}},O=function(e){return{type:"SET_AUTHORIZED",isAuthorized:e}},j=function(e){return{type:"SHOW_MODE",showMode:e}},A=function(e){return{type:"CURRENT_USER_PROFILE_LOAD",currentUser:e}},k=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},C=n(29),S=n.n(C),z="https://conduit.productionready.io/api/",L=function(){var e=localStorage.getItem("token"),t=null;return e&&(t={headers:{Authorization:"Token ".concat(e)}}),t}();function U(){return S.a.get("https://conduit.productionready.io/api/user",L)}function T(e){var t=z+"articles?limit="+e;return S.a.get(t,L)}function P(e,t){var n=z+"articles?limit="+e+"&author="+t;return S.a.get(n,L)}function D(e){return S.a.post("https://conduit.productionready.io/api/users/login",e)}function M(e){return S.a.post("https://conduit.productionready.io/api/users",e)}function _(e,t){var n=z+"articles?limit=".concat(e,"&offset=").concat(t);return S.a.get(n,L)}function B(e,t,n){var r=z+"articles?limit=".concat(e,"&author=").concat(t,"&offset=").concat(n);return S.a.get(r,L)}function N(e){var t=z+"articles/".concat(e);return S.a.get(t,L)}function q(e){var t=z+"articles/".concat(e,"/favorite");return S.a.post(t,null,{header:L})}function R(e){var t=z+"articles/".concat(e,"/favorite");return S.a.delete(t,L)}function I(e){return S.a.post("https://conduit.productionready.io/api/articles",e,L)}function F(e){var t=z+"articles/".concat(e);return S.a.delete(t,L)}function V(e){var t=z+"profiles/".concat(e);return S.a.get(t,L)}function W(e,t){var n=z+"articles/".concat(e);return S.a.put(n,t,L)}var Q=n(229);function H(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return H=function(){return e},e}function X(){var e=Object(v.a)(["\n  padding: 10px;\n  padding-top: 5px;\n  margin-bottom: 10px;\n"]);return X=function(){return e},e}function G(){var e=Object(v.a)(["\n  display: flex;\n"]);return G=function(){return e},e}function J(){var e=Object(v.a)(["\n  display: block;\n  background-color: white;\n  width: 100px;\n  height: 100px;\n  border-radius: 10px;\n  margin-bottom: 5px;\n"]);return J=function(){return e},e}function Z(){var e=Object(v.a)(["\n  border: 1px solid gray;\n  border-radius: 10px;\n  padding: 12px;\n  margin-bottom: 30px;\n  margin-top: 15px;\n  background-color: #e0e0e0;\n  display: flex;\n  flex-direction: column;\n"]);return Z=function(){return e},e}function K(){var e=Object(v.a)(["\n  padding: 8px;\n"]);return K=function(){return e},e}function Y(){var e=Object(v.a)(["\n  margin-bottom: 20px;\n  text-align: center;\n"]);return Y=function(){return e},e}function $(){var e=Object(v.a)(["\n  min-height: 800px;\n  border: 1px solid gray;\n  border-radius: 10px;\n  box-shadow: 0 0 6px 0 #34495e;\n  padding: 12px;\n  min-width: 300px;\n  margin: 5px;\n  margin-right: 15px;\n  margin-top: 6px;\n"]);return $=function(){return e},e}var ee=function(e){Object(E.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).logout=function(){var t=e.props,n=t.authorization,r=t.history,a=t.setCurrentUser,i=t.setArticlesToStore;n(!1),localStorage.clear(),a({}),i([],0),r.push("/blog-platform/login")},e.getAllArticles=Object(f.a)(m.a.mark((function t(){var n,r,a,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props,r=n.setShowMode,a=n.history,i=n.setArticlesToStore,r(""),i([],0),a.push("/blog-platform/login");case 4:case"end":return t.stop()}}),t)}))),e.getMyArticles=Object(f.a)(m.a.mark((function t(){var n,r,a,i,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props,r=n.setShowMode,a=n.currentUser,i=n.history,o=n.setArticlesToStore,r(a.username),o([],0),i.push("/blog-platform/login");case 4:case"end":return t.stop()}}),t)}))),e.addArticle=function(){e.props.history.push("/blog-platform/add")},e.getCurrentUserProfile=Object(f.a)(m.a.mark((function t(){var n,r,a,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.setCurrentUser,t.next=3,U();case 3:return r=t.sent,t.next=6,r.data;case 6:a=t.sent,i=a.user,n(i);case 9:case"end":return t.stop()}}),t)}))),e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){this.getCurrentUserProfile()}},{key:"render",value:function(){var e=this.props.currentPage,t={width:"275px",marginBottom:"7px"},n={border:"1px solid gray",boxShadow:"0 0 4px 0 #34495e",width:"275px",marginBottom:"7px"},r=this.props.currentUser,i=r.image,o=r.username,c=r.email,l=r.bio,u=null===i?"https://static.productionready.io/images/smiley-cyrus.jpg":i,s=null===l?"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445":l;return a.a.createElement(ne,null,a.a.createElement(re,null,"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"),a.a.createElement(ie,null,a.a.createElement(ce,null,a.a.createElement(oe,{src:u,alt:""}),a.a.createElement(le,null,o," (",c,")")),a.a.createElement(ae,null,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f: ",s)),a.a.createElement(ue,null,a.a.createElement(Q.a,{variant:"contained",size:"small",onClick:this.getAllArticles,className:"active",style:"showAllArticles"===e?n:t},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"),a.a.createElement(Q.a,{variant:"contained",size:"small",onClick:this.getMyArticles,style:"showMyArticles"===e?n:t},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u043c\u043e\u0438 \u0441\u0442\u0430\u0442\u044c\u0438"),a.a.createElement(Q.a,{variant:"contained",size:"small",onClick:this.addArticle,style:"addArticle"===e?n:t},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"),a.a.createElement(Q.a,{variant:"contained",size:"small",color:"primary",onClick:this.logout,style:{width:"275px",marginBottom:"5px"}},"\u0412\u044b\u0445\u043e\u0434")))}}]),n}(r.Component),te=Object(u.b)((function(e){return{showQuantity:e.showQuantity,currentUser:e.currentUser,currentPage:e.currentPage}}),(function(e){return{setArticlesToStore:function(t,n){return e(w(t,n))},authorization:function(t){return e(O(t))},setShowMode:function(t){return e(j(t))},setCurrentUser:function(t){return e(A(t))}}}))(ee),ne=g.a.div($()),re=g.a.div(Y()),ae=g.a.div(K()),ie=g.a.div(Z()),oe=g.a.img(J()),ce=g.a.div(G()),le=g.a.div(X()),ue=g.a.div(H()),se=n(57),pe=n(233),de=n(234),me=n(243),fe=n(151),he=n.n(fe),ve=n(88),ge=n.n(ve),be=n(105),xe=n.n(be),Ee=n(245),ye=n(246),we=n(198),Oe=n(235);function je(){var e=Object(v.a)(["\n  color: red;\n  font-size: 12px;\n"]);return je=function(){return e},e}function Ae(){var e=Object(v.a)(["\n  color: green;\n  font-size: 12px;\n"]);return Ae=function(){return e},e}function ke(){var e=Object(v.a)(["\n  display: block;\n  flex-grow: 1;\n  text-align: right;\n"]);return ke=function(){return e},e}function Ce(){var e=Object(v.a)(["\n  color: #3f51b5;\n  font-size: 18px;\n  padding-top: 1px;\n"]);return Ce=function(){return e},e}function Se(){var e=Object(v.a)(["\n  margin-right: 5px;\n"]);return Se=function(){return e},e}function ze(){var e=Object(v.a)(["\n  display: flex;\n  text-align: left;\n"]);return ze=function(){return e},e}function Le(){var e=Object(v.a)(["\n  display: flex;\n  border: 1px solid gray;\n  border-radius: 10px;\n  padding: 5px;\n  background-color: #e0e0e0;\n"]);return Le=function(){return e},e}function Ue(){var e=Object(v.a)(["\n  overflow: auto;\n  flex-grow: 1;\n  margin-bottom: 5px;\n"]);return Ue=function(){return e},e}function Te(){var e=Object(v.a)(["\n  text-align: right;\n  font-size: 15px;\n  color: red;\n"]);return Te=function(){return e},e}function Pe(){var e=Object(v.a)(["\n  color: #3a3833;\n  text-align: right;\n  font-size: 15px;\n"]);return Pe=function(){return e},e}function De(){var e=Object(v.a)(["\n  color: #3a3833;\n  font-size: 16px;\n  &:hover {\n    text-decoration: underline;\n  }\n"]);return De=function(){return e},e}function Me(){var e=Object(v.a)(["\n  border: 1px solid gray;\n  border-radius: 10px;\n  padding: 7px;\n  background-color: #e0e0e0;\n  margin-bottom: 5px;\n"]);return Me=function(){return e},e}function _e(){var e=Object(v.a)(["\n  text-align: right;\n"]);return _e=function(){return e},e}function Be(){var e=Object(v.a)(["\n  text-align: center;\n  flex-shrink: 0;\n  flex-grow: 1;\n  max-width: 190px;\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n  overflow: hidden;\n"]);return Be=function(){return e},e}function Ne(){var e=Object(v.a)(["\n  background-color: #3f51b5;\n  color: white;\n  border-radius: 10px;\n  padding: 10px 15px;\n  text-align: center;\n  display: flex;\n  margin-bottom: 5px;\n  max-height: 80px;\n"]);return Ne=function(){return e},e}function qe(){var e=Object(v.a)(["\n  width: 250px;\n  height: 280px;\n  display: flex;\n  flex-direction: column;\n  padding: 5px;\n"]);return qe=function(){return e},e}var Re=function(e){Object(E.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={article:{tagList:[],createdAt:"",updatedAt:"",author:{username:""}}},e.getArticleFromServer=function(){var t=Object(f.a)(m.a.mark((function t(n){var r,a,i,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.props.slug,t.next=4,N(r);case 4:if(200!==(a=t.sent).status){t.next=11;break}return t.next=8,a.data;case 8:i=t.sent,o=i.article,e.setState({article:o});case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log("error 404 ",t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),e.toggleLike=function(t,n,r){n?e.setUnlike(t,r):e.setLike(t,r)},e.setLike=function(){var t=Object(f.a)(m.a.mark((function t(n,r){var a,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q(n);case 2:a=t.sent,i=a.data.article,e.setState({article:i});case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.setUnlike=function(){var t=Object(f.a)(m.a.mark((function t(n,r){var a,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(n);case 2:a=t.sent,i=a.data.article,e.setState({article:i});case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.toggleLike=function(t,n,r){n?e.setUnlike(t,r):e.setLike(t,r)},e.deleteArticle=function(){var t=Object(f.a)(m.a.mark((function t(n,r){var a,i,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,i=a.history,o=a.setArticlesToState,t.next=3,F(n);case 3:if(200!==t.sent.status){t.next=8;break}return t.next=7,o([],0);case 7:i.push("/blog-platform/login");case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.toUserPage=function(t){var n=e.props,r=n.history;(0,n.setArticlesToState)([],0),r.push("/blog-platform/user/".concat(t))},e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){this.getArticleFromServer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.slug,r=t.currentUser,i=t.isAuthorized,o=this.state.article,l=o.title,u=o.author,s=o.tagList,p=o.favoritesCount,d=o.createdAt,m=o.updatedAt,f=o.favorited,h="/blog-platform/articles/".concat(n),v=d!==m,g=s.map((function(e){return a.a.createElement("li",{key:Object(se.uniqueId)(),style:{margin:"5px"}},a.a.createElement(ye.a,{label:e,disabled:!0,color:"primary",style:{maxWidth:"120px",overflow:"hidden"}}))})),b=function(e){var t,n,r,a=0===(t=Object(pe.a)(new Date,new Date(e)))?"\u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0442\u043e":"".concat(t," \u043c\u0438\u043d \u043d\u0430\u0437\u0430\u0434");if(t>=60){n=Object(de.a)(new Date,new Date(e));var i=0===t?"":"".concat(t-60*n," \u043c\u0438\u043d");if(n>=24){r=Object(me.a)(new Date,new Date(e));var o="".concat(r," \u0434\u043d"),c=0===n&&0===t?"":"".concat(n-24*r," \u0447");return"".concat(o," ").concat(c,"  ").concat(i," \u043d\u0430\u0437\u0430\u0434")}return"".concat(n," \u0447 ").concat(i," \u043d\u0430\u0437\u0430\u0434")}return"".concat(a)},x=b(d),E=b(m),y=d?a.a.createElement("div",null,a.a.createElement(nt,null,"\u0421\u043e\u0437\u0434\u0430\u043d\u043e: "),x):a.a.createElement(Oe.a,{animation:"wave",variant:"text"}),w=m?v?a.a.createElement("div",null,a.a.createElement(rt,null,"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u043e:"),E):null:a.a.createElement(Oe.a,{animation:"wave",variant:"text"}),O=i?f?a.a.createElement(Ee.a,{title:"\u0423\u0431\u0440\u0430\u0442\u044c \u043b\u0430\u0439\u043a"},a.a.createElement(xe.a,{color:"primary",className:"btnLike",alt:"like",onClick:function(){return e.toggleLike(n,f)}})):a.a.createElement(Ee.a,{title:"\u041f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043b\u0430\u0439\u043a"},a.a.createElement(ge.a,{color:"primary",className:"btnLike",onClick:function(){return e.toggleLike(n,f)}})):a.a.createElement(Ee.a,{title:"\u0414\u043b\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u043b\u0430\u0439\u043a\u0430\u0442\u044c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"},a.a.createElement(ge.a,{className:"btnLike"})),j=i&&r.username===u.username?a.a.createElement(Qe,{className:"btnDelete"},a.a.createElement(Ee.a,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"},a.a.createElement(he.a,{className:"btnDelete",style:{fontSize:30},onClick:function(){return e.deleteArticle(n)}}))):null;return a.a.createElement(Fe,null,a.a.createElement(Ve,null,l?a.a.createElement(a.a.Fragment,null,a.a.createElement(We,null,l),a.a.createElement(Qe,null,j)):a.a.createElement(Oe.a,{animation:"wave",variant:"text",height:20})),a.a.createElement(He,null,a.a.createElement(Ee.a,{title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0430\u0432\u0442\u043e\u0440\u0430"},u.username?a.a.createElement(Xe,{className:"authorDiv",onClick:function(){return e.toUserPage(u.username)}},a.a.createElement(nt,null,"\u0410\u0432\u0442\u043e\u0440: "),u.username):a.a.createElement(Oe.a,{animation:"wave",variant:"text"})),a.a.createElement(Ge,null,y),a.a.createElement(Je,null,w)),a.a.createElement(Ze,null,a.a.createElement(we.a,{component:"ul",elevation:0,style:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",listStyle:"none",margin:"0px",padding:"0"}},g)),a.a.createElement(Ke,null,a.a.createElement(Ye,{className:"btnLike"},a.a.createElement($e,{className:"btnLike"},O),a.a.createElement(et,null,p)),a.a.createElement(tt,null,a.a.createElement(c.b,{to:h,style:{color:"#3a3833",fontSize:"14px"}},"\u0447\u0438\u0442\u0430\u0442\u044c \u0434\u0430\u043b\u044c\u0448\u0435 >>"))))}}]),n}(r.Component);var Ie=Object(u.b)((function(e){return{articles:e.articles,currentUser:e.currentUser,isAuthorized:e.isAuthorized}}),(function(e){return{setArticlesToState:function(t,n){return e(w(t,n))}}}))(Re),Fe=g.a.div(qe()),Ve=g.a.div(Ne()),We=g.a.div(Be()),Qe=g.a.div(_e()),He=g.a.div(Me()),Xe=g.a.div(De()),Ge=g.a.div(Pe()),Je=g.a.div(Te()),Ze=g.a.div(Ue()),Ke=g.a.div(Le()),Ye=g.a.div(ze()),$e=g.a.div(Se()),et=g.a.div(Ce()),tt=g.a.span(ke()),nt=g.a.span(Ae()),rt=g.a.span(je()),at=n(242);function it(){var e=Object(v.a)(["\n  margin-left: auto;\n  margin-right: auto;\n  max-width: 500px;\n  flex-grow: 0;\n"]);return it=function(){return e},e}function ot(){var e=Object(v.a)(["\n  border: 1px solid gray;\n  border-radius: 10px;\n  box-shadow: 0 0 6px 0 #34495e;\n  cursor: pointer;\n  width: 250px;\n  height: 280px;\n  margin: 15px;\n  margin-top: 5px;\n  transition: 0.1s;\n  &:hover {\n    transform: scale(1.03);\n  }\n  display: flex;\n  flex-direction: column;\n"]);return ot=function(){return e},e}function ct(){var e=Object(v.a)(["\n  display: flex;\n  min-width: 840px;\n  max-width: 1100px;\n  flex-wrap: wrap;\n  flex-grow: 1;\n  margin-bottom: 15px;\n  align-items: flex-start;\n  align-content: flex-start;\n  justify-content: flex-start;\n"]);return ct=function(){return e},e}function lt(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return lt=function(){return e},e}var ut=function(e){Object(E.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).getListArticles=Object(f.a)(m.a.mark((function t(){var n,r,a,i,o,c,l,u,s,p,d,f;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,r=n.showMode,a=n.showQuantity,i=n.setArticlesToState,""!==r){t.next=13;break}return t.next=4,T(a);case 4:return o=t.sent,t.next=7,o.data;case 7:c=t.sent,l=c.articles,u=c.articlesCount,i(l,u),t.next=22;break;case 13:return t.next=15,P(a,r);case 15:return s=t.sent,t.next=18,s.data;case 18:p=t.sent,d=p.articles,f=p.articlesCount,i(d,f);case 22:case"end":return t.stop()}}),t)}))),e.openArticle=function(t,n){var r=e.props.history;t.target.parentElement.classList.contains("btnLike")||t.target.parentElement.classList.contains("btnDelete")||t.target.classList.contains("authorDiv")||r.push("/blog-platform/articles/".concat(n))},e.handleChangePagination=function(){var t=Object(f.a)(m.a.mark((function t(n){var r,a,i,o,c,l,u,s,p,d,f,h,v,g,b;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props,a=r.showMode,i=r.setArticlesToState,o=r.showQuantity,c=n.currentTarget.textContent,l=a,u=c>1?9*c-9:null,""!==a){t.next=16;break}return t.next=7,_(o,u);case 7:return s=t.sent,t.next=10,s.data;case 10:p=t.sent,d=p.articles,f=p.articlesCount,i(d,f),t.next=25;break;case 16:return t.next=18,B(o,l,u);case 18:return h=t.sent,t.next=21,h.data;case 21:v=t.sent,g=v.articles,b=v.articlesCount,i(g,b);case 25:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setCurrentPage,n=e.showMode,r=e.currentUser;switch(n){case"":t("showAllArticles");break;case r.username:t("showMyArticles");break;default:t("")}this.getListArticles()}},{key:"render",value:function(){var e=this,t=this.props,n=t.listArticles,r=t.articlesCount,i=t.history,o=n.map((function(t){var n=t.slug;return a.a.createElement("div",{key:n,onClick:function(t){return e.openArticle(t,n)}},a.a.createElement(mt,null,a.a.createElement(Ie,{slug:n,history:i})))})),c={count:Math.ceil(r/9),variant:"outlined",shape:"rounded",onChange:this.handleChangePagination,articles:n};return a.a.createElement(pt,null,a.a.createElement(dt,null,o),a.a.createElement(ft,null,a.a.createElement(at.a,c)))}}]),n}(r.Component),st=Object(u.b)((function(e){return{listArticles:e.listArticles,articlesCount:e.articlesCount,isAuthorized:e.isAuthorized,showMode:e.showMode,showQuantity:e.showQuantity,currentPage:e.currentPage,currentUser:e.currentUser}}),(function(e){return{setArticlesToState:function(t,n){return e(w(t,n))},setCurrentPage:function(t){return e(k(t))}}}))(ut),pt=g.a.div(lt()),dt=g.a.div(ct()),mt=g.a.div(ot()),ft=g.a.div(it());function ht(){var e=Object(v.a)(["\n  display: flex;\n  margin-bottom: 15px;\n  margin-top: 20px;\n  min-height: 800px;\n"]);return ht=function(){return e},e}var vt=g.a.div(ht());var gt=Object(u.b)((function(e){return{isAuthorized:e.isAuthorized}}))((function(e){var t=e.history,n=e.isAuthorized;n||t.push("/blog-platform/login");var r=n?a.a.createElement(te,{history:t}):null,i=a.a.createElement(st,{history:t});return a.a.createElement(vt,null,r,i)})),bt=n(18),xt=n(28),Et=n(241),yt=n(158),wt=n(247),Ot=n(248),jt=n(249),At=n(250),kt=n(238),Ct=n(155),St=n.n(Ct),zt=n(156),Lt=n.n(zt);function Ut(e){var t=e.errors,n=e.touched,r=e.values,i=e.name,o=e.onChange,c=e.onBlur,l=e.label,u=e.labelWidth,s=e.required,p=a.a.useState({showPassword:!1}),d=Object(yt.a)(p,2),m=d[0],f=d[1];return a.a.createElement(wt.a,{size:"small",variant:"outlined",error:!!n[i]&&!!t[i]},a.a.createElement(Ot.a,{htmlFor:"outlined-adornment-password",required:s},l),a.a.createElement(jt.a,{id:"outlined-adornment-password",size:"small",type:m.showPassword?"text":"password",value:r[i],name:i,onChange:o,onBlur:c,endAdornment:a.a.createElement(At.a,{position:"end"},a.a.createElement(kt.a,{onClick:function(){f({showPassword:!m.showPassword})},edge:"end"},m.showPassword?a.a.createElement(St.a,null):a.a.createElement(Lt.a,null))),labelWidth:u}))}function Tt(){var e=Object(v.a)(["\n  height: 7px;\n  color: red;\n  padding-left: 10px;\n"]);return Tt=function(){return e},e}function Pt(){var e=Object(v.a)(["\n  max-width: 225px;\n  margin-bottom: 15px;\n"]);return Pt=function(){return e},e}function Dt(){var e=Object(v.a)(["\n  margin-bottom: 20px;\n  text-align: center;\n"]);return Dt=function(){return e},e}function Mt(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Mt=function(){return e},e}function _t(){var e=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n  min-height: 800px;\n  border: 1px solid gray;\n  border-radius: 10px;\n  box-shadow: 0 0 6px 0 #34495e;\n  padding: 12px;\n  min-width: 300px;\n  margin: 5px;\n  margin-right: 15px;\n  margin-top: 6px;\n"]);return _t=function(){return e},e}var Bt=xt.a().shape({name:xt.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),password:xt.b().min(8,"\u041d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(72,"\u041d\u0435 \u0431\u043e\u043b\u0435\u0435 72 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),email:xt.b().email("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")});var Nt=Object(u.b)((function(e){return{articles:e.articles,articlesCount:e.articlesCount,currentUser:e.currentUser,currentMenuItem:e.currentMenuItem,isAutorized:e.isAutorized,errorsSignup:e.errorsSignup}}),(function(e){return{setAuth:function(t){return e(O(t))},setCurrentUser:function(t){return e(A(t))},setCurrentPage:function(t){return e(k(t))}}}))((function(e){var t=function(){var t=Object(f.a)(m.a.mark((function t(r,a){var i,o,c,l,u,s,p,d,f,h,v,g,b,x,E,y,w;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=a.setFieldError,o=e.setAuth,c=e.history,l=e.setCurrentUser,u=e.setArticlesToStore,s=r.name,p=r.email,d=r.password,f={user:{username:s,email:p,password:d}},t.prev=4,t.next=7,M(f);case 7:if(200!==t.sent.status){t.next=22;break}return h={user:{email:p,password:d}},t.next=12,D(h);case 12:return v=t.sent,t.next=15,v.data;case 15:g=t.sent,b=g.user,n(b),l(b),o(!0),u([],0),c.push("/blog-platform");case 22:t.next=30;break;case 24:t.prev=24,t.t0=t.catch(4),x=t.t0.response.data.errors,E=x.email,y=x.username,w=x.password,i("email",E),i("name",y),i("password",w);case 30:case"end":return t.stop()}}),t,null,[[4,24]])})));return function(e,n){return t.apply(this,arguments)}}(),n=function(e){var t=e.token;localStorage.setItem("token",t)};return a.a.createElement(bt.d,{initialValues:{name:"",password:"",email:""},onSubmit:t,validationSchema:Bt},(function(e){var t=e.values,n=e.handleChange,r=e.handleBlur,i=e.errors,o=e.touched,l=e.dirty,u=e.isValid,s={size:"small",name:"name",as:"input",component:Et.a,label:"\u0418\u043c\u044f",variant:"outlined",error:o.name&&Boolean(i.name),value:t.name,onChange:n("name"),onBlur:r("name"),required:!0},p={size:"small",name:"email",as:"input",component:Et.a,label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430",variant:"outlined",onChange:n("email"),error:o.email&&Boolean(i.email),onBlur:r("email"),required:!0},d={name:"password",errors:i,values:t,touched:o,onChange:n("password"),onBlur:r("password"),label:"\u041f\u0430\u0440\u043e\u043b\u044c",labelWidth:65,required:!0};return a.a.createElement(qt,null,a.a.createElement(bt.c,null,a.a.createElement(Rt,null,a.a.createElement(It,null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),a.a.createElement(Ft,null,a.a.createElement(bt.a,s),a.a.createElement(Vt,null,o.name?i.name:"")),a.a.createElement(Ft,null,a.a.createElement(bt.a,p),a.a.createElement(Vt,null,o.email?i.email:"")),a.a.createElement(Ft,null,a.a.createElement(Ut,d),a.a.createElement(Vt,null,o.password?i.password:"")),a.a.createElement(Q.a,{variant:"contained",size:"small",color:"primary",disabled:!l||!u,type:"submit"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),a.a.createElement(c.b,{to:"/blog-platform/login",style:{color:"#3a3833",marginTop:"20px"}},"\u0412\u043e\u0439\u0442\u0438"))))}))})),qt=g.a.div(_t()),Rt=g.a.div(Mt()),It=g.a.div(Dt()),Ft=g.a.div(Pt()),Vt=g.a.div(Tt());function Wt(){var e=Object(v.a)(["\n  display: flex;\n  margin-bottom: 15px;\n  margin-top: 20px;\n"]);return Wt=function(){return e},e}var Qt=Object(u.b)((function(e){return{isAuthorized:e.isAuthorized}}))((function(e){var t=e.history,n=e.isAuthorized;n&&t.push("/blog-platform");var r=n?null:a.a.createElement(Nt,{history:t}),i=a.a.createElement(st,{history:t});return a.a.createElement(Ht,null,r,i)})),Ht=g.a.div(Wt());var Xt=function(e){var t=e.token;localStorage.setItem("token",t)};function Gt(){var e=Object(v.a)(["\n  height: 7px;\n  color: red;\n"]);return Gt=function(){return e},e}function Jt(){var e=Object(v.a)(["\n  max-width: 225px;\n  margin-bottom: 20px;\n"]);return Jt=function(){return e},e}function Zt(){var e=Object(v.a)(["\n  margin-bottom: 20px;\n  text-align: center;\n"]);return Zt=function(){return e},e}function Kt(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Kt=function(){return e},e}function Yt(){var e=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n  min-height: 800px;\n  border: 1px solid gray;\n  border-radius: 10px;\n  box-shadow: 0 0 6px 0 #34495e;\n  padding: 12px;\n  min-width: 300px;\n  margin: 5px;\n  margin-right: 15px;\n  margin-top: 6px;\n"]);return Yt=function(){return e},e}var $t=Object(u.b)(null,(function(e){return{setAuth:function(t){return e(O(t))},setCurrentUser:function(t){return e(A(t))},setCurrentPage:function(t){return e(k(t))},setArticlesToStore:function(t,n){return e(w(t,n))}}}))((function(e){var t=function(){var t=Object(f.a)(m.a.mark((function t(n,r){var a,i,o,c,l,u,s,p,d,f,h;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.setFieldError,i=e.setAuth,o=e.history,c=e.setCurrentUser,l=e.setArticlesToStore,u=n.email,s=n.password,p={user:{email:u,password:s}},t.prev=4,t.next=7,D(p);case 7:if(200!==(d=t.sent).status){t.next=20;break}return t.next=11,d.data;case 11:return f=t.sent,h=f.user,t.next=15,Xt(h);case 15:return c(h),i(!0),t.next=19,l([],0);case 19:o.push("/blog-platform");case 20:t.next=26;break;case 22:t.prev=22,t.t0=t.catch(4),a("email","\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"),a("password"," ");case 26:case"end":return t.stop()}}),t,null,[[4,22]])})));return function(e,n){return t.apply(this,arguments)}}();return a.a.createElement(bt.d,{initialValues:{password:"",email:""},onSubmit:t},(function(e){var t=e.values,n=e.handleChange,r=e.handleBlur,i=e.errors,o=e.touched,l=e.dirty,u=e.isValid,s={size:"small",name:"email",as:"input",component:Et.a,value:t.email,label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430",variant:"outlined",onChange:n("email"),error:o.email&&Boolean(i.email),onBlur:r("email")},p={name:"password",errors:i,values:t,touched:o,onChange:n("password"),onBlur:r("password"),label:"\u041f\u0430\u0440\u043e\u043b\u044c",labelWidth:65,required:!0};return a.a.createElement(en,null,a.a.createElement(bt.c,null,a.a.createElement(tn,null,a.a.createElement(nn,null,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f",a.a.createElement(an,null,o.email?i.email:"")),a.a.createElement(rn,null,a.a.createElement(bt.a,s)),a.a.createElement(rn,null,a.a.createElement(Ut,p)),a.a.createElement(Q.a,{variant:"contained",size:"small",color:"primary",disabled:!l||!u,type:"submit"},"\u0412\u043e\u0439\u0442\u0438"),a.a.createElement(c.b,{to:"/blog-platform/signup",style:{color:"#3a3833",marginTop:"20px"}},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"))))}))})),en=g.a.div(Yt()),tn=g.a.div(Kt()),nn=g.a.div(Zt()),rn=g.a.div(Jt()),an=g.a.div(Gt());function on(){var e=Object(v.a)(["\n  display: flex;\n  margin-bottom: 15px;\n  margin-top: 20px;\n"]);return on=function(){return e},e}var cn=Object(u.b)((function(e){return{isAuthorized:e.isAuthorized}}))((function(e){var t=e.history,n=e.isAuthorized;n&&t.push("/blog-platform");var r=n?null:a.a.createElement($t,{history:t}),i=a.a.createElement(st,{history:t});return a.a.createElement(ln,null,r,i)})),ln=g.a.div(on());function un(){var e=Object(v.a)(["\n  padding: '0';\n"]);return un=function(){return e},e}function sn(){var e=Object(v.a)(["\n  color: #3f51b5;\n  font-size: 25px;\n"]);return sn=function(){return e},e}function pn(){var e=Object(v.a)(["\n  margin-right: 5px;\n"]);return pn=function(){return e},e}function dn(){var e=Object(v.a)(["\n  display: flex;\n  cursor: pointer;\n  padding: 10px;\n"]);return dn=function(){return e},e}function mn(){var e=Object(v.a)(["\n  margin-bottom: 10px;\n  overflow-wrap: break-word;\n  padding: 10px;\n"]);return mn=function(){return e},e}function fn(){var e=Object(v.a)(["\n  margin-bottom: 10px;\n  padding: 10px;\n"]);return fn=function(){return e},e}function hn(){var e=Object(v.a)(["\n  font-size: 22px;\n  overflow-wrap: break-word;\n  padding: 10px;\n"]);return hn=function(){return e},e}function vn(){var e=Object(v.a)(["\n  margin: 10px;\n"]);return vn=function(){return e},e}function gn(){var e=Object(v.a)(["\n  display: flex;\n"]);return gn=function(){return e},e}function bn(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return bn=function(){return e},e}function xn(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  min-width: 840px;\n  max-width: 950px;\n  min-height: 800px;\n  border: 1px solid gray;\n  border-radius: 10px;\n  box-shadow: 0 0 6px 0 #34495e;\n  padding: 12px;\n  margin: 5px;\n  margin-right: 15px;\n"]);return xn=function(){return e},e}var En=function(e){Object(E.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={article:{title:null,author:{username:null},body:null,favorited:null,favoritesCount:null,tagList:[]}},e.getArticleFromServer=function(){var t=Object(f.a)(m.a.mark((function t(n){var r,a,i,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.slug,t.next=3,N(r);case 3:return a=t.sent,t.next=6,a.data;case 6:i=t.sent,o=i.article,e.setState({article:o});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.toggleLike=function(t,n){t?e.setUnlike(n):e.setLike(n)},e.setLike=function(){var t=Object(f.a)(m.a.mark((function t(n){var r,a,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.slug,t.next=3,q(r);case 3:a=t.sent,i=a.data.article,e.setState({article:i});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.setUnlike=function(){var t=Object(f.a)(m.a.mark((function t(n){var r,a,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.slug,t.next=3,R(r);case 3:a=t.sent,i=a.data.article,e.setState({article:i});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.toEdit=function(){var t=e.props,n=t.slug;t.history.push("/blog-platform/articles/".concat(n,"/edit"))},e.deleteArticle=Object(f.a)(m.a.mark((function t(){var n,r,a,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.slug,a=n.history,i=n.setArticlesToState,t.next=3,F(r);case 3:if(200!==t.sent.status){t.next=8;break}return t.next=7,i([],0);case 7:a.push("/blog-platform");case 8:case"end":return t.stop()}}),t)}))),e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.setCurrentPage;this.getArticleFromServer(),e("")}},{key:"render",value:function(){var e=this,t=this.props,n=t.isAuthorized,r=t.currentUser,i=this.state.article,o=i.title,c=i.author,l=i.body,u=i.tagList,s=i.favorited,p=i.favoritesCount,d=a.a.createElement(Un,null,a.a.createElement(we.a,{component:"ul",className:"",elevation:0,style:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",listStyle:"none",paddingLeft:"10px"}},u.map((function(e){return a.a.createElement("li",{key:Object(se.uniqueId)(),style:{margin:"5px"}},a.a.createElement(ye.a,{label:e,disabled:!0,color:"primary",style:{maxWidth:"120px",overflow:"hidden"}}))})))),m=n&&r.username===c.username?a.a.createElement(jn,null,a.a.createElement(Q.a,{variant:"contained",size:"small",onClick:this.toEdit},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")):null,f=n&&r.username===c.username?a.a.createElement(jn,null,a.a.createElement(Q.a,{variant:"contained",size:"small",onClick:this.deleteArticle},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")):null,h=n?s?a.a.createElement(xe.a,{className:"btnLike",alt:"like",color:"primary",style:{fontSize:30},onClick:function(t){return e.toggleLike(s)}}):a.a.createElement(ge.a,{className:"btnLike",color:"primary",style:{fontSize:30},onClick:function(t){return e.toggleLike(s)}}):a.a.createElement(ge.a,{color:"primary",className:"btnLike",alt:"like"});return a.a.createElement(a.a.Fragment,null,a.a.createElement(yn,null,a.a.createElement(On,null,m,f),a.a.createElement(wn,null,a.a.createElement(An,null,o),a.a.createElement(kn,null,c.username),a.a.createElement(Cn,null,l),a.a.createElement("div",null,d),a.a.createElement(Sn,{className:"btnLike"},a.a.createElement(zn,{className:"btnLike"},h),a.a.createElement(Ln,null,p)))))}}]),n}(r.Component),yn=g.a.div(xn()),wn=g.a.div(bn()),On=g.a.div(gn()),jn=g.a.div(vn()),An=g.a.div(hn()),kn=g.a.div(fn()),Cn=g.a.div(mn()),Sn=g.a.div(dn()),zn=g.a.div(pn()),Ln=g.a.div(sn()),Un=g.a.div(un()),Tn=Object(u.b)((function(e){return{isAuthorized:e.isAuthorized,currentUser:e.currentUser}}),(function(e){return{setArticlesToState:function(t,n){return e(w(t,n))},setCurrentPage:function(t){return e(k(t))}}}))(En);function Pn(){var e=Object(v.a)(["\n  display: flex;\n  margin-bottom: 15px;\n  margin-top: 20px;\n  min-height: 800px;\n"]);return Pn=function(){return e},e}var Dn=g.a.div(Pn()),Mn=Object(u.b)((function(e){return{isAuthorized:e.isAuthorized}}))((function(e){var t=e.match.params.slug,n=e.history,r={history:n,slug:t},i=e.isAuthorized?a.a.createElement(te,{history:n}):a.a.createElement($t,{history:n}),o=a.a.createElement(Tn,r);return a.a.createElement(Dn,null,i,o)}));function _n(){var e=Object(v.a)(["\n  margin: 10px;\n"]);return _n=function(){return e},e}function Bn(){var e=Object(v.a)(["\n  padding: 8px;\n"]);return Bn=function(){return e},e}function Nn(){var e=Object(v.a)(["\n  padding: 8px;\n"]);return Nn=function(){return e},e}function qn(){var e=Object(v.a)(["\n  display: block;\n  background-color: white;\n  width: 100px;\n  height: 100px;\n  border-radius: 10px;\n  margin-bottom: 5px;\n"]);return qn=function(){return e},e}function Rn(){var e=Object(v.a)(["\n  text-align: center;\n  font-size: 22px;\n  margin-bottom: 15px;\n"]);return Rn=function(){return e},e}function In(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  min-width: 840px;\n  max-width: 950px;\n  min-height: 800px;\n  border: 1px solid gray;\n  border-radius: 10px;\n  box-shadow: 0 0 6px 0 #34495e;\n  padding: 12px;\n  margin: 5px;\n  margin-right: 15px;\n"]);return In=function(){return e},e}var Fn=function(e){Object(E.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={profile:{username:"",bio:"",image:"https://static.productionready.io/images/smiley-cyrus.jpg",following:!1}},e.getUserArticles=function(t){var n=e.props,r=n.setShowMode,a=n.history,i=n.setCurrentPage,o=n.setArticlesToState;r(t),i(""),o([],0),a.push("/blog-platform")},e.getUserProfileFromServer=function(){var t=Object(f.a)(m.a.mark((function t(n){var r,a,i,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.username,t.next=3,V(r);case 3:return a=t.sent,t.next=6,a.data;case 6:i=t.sent,o=i.profile,e.setState({profile:o});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.setCurrentPage;this.getUserProfileFromServer(),e("")}},{key:"render",value:function(){var e=this,t=this.state.profile,n=t.username,r=t.image,i=t.following,o=t.bio,c=null===o?"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445":o,l=!1===i?"\u041d\u0435\u0442":"\u0414\u0430";return a.a.createElement(Wn,null,a.a.createElement(Qn,null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c: ",n),a.a.createElement(Hn,{src:r,alt:""}),a.a.createElement(Xn,null,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f: ",c),a.a.createElement(Gn,null,"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430: ",l),a.a.createElement(Jn,null,a.a.createElement(Q.a,{variant:"contained",size:"small",onClick:function(){return e.getUserArticles(n)}},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0442\u044c\u0438 ",n)))}}]),n}(r.Component),Vn=Object(u.b)((function(e){return{isAuthorized:e.isAuthorized}}),(function(e){return{setShowMode:function(t){return e(j(t))},setCurrentPage:function(t){return e(k(t))},setArticlesToState:function(t,n){return e(w(t,n))}}}))(Fn),Wn=g.a.div(In()),Qn=g.a.div(Rn()),Hn=g.a.img(qn()),Xn=g.a.div(Nn()),Gn=g.a.div(Bn()),Jn=g.a.div(_n());function Zn(){var e=Object(v.a)(["\n  display: flex;\n  margin-bottom: 15px;\n  margin-top: 20px;\n  min-height: 800px;\n"]);return Zn=function(){return e},e}var Kn=g.a.div(Zn()),Yn=Object(u.b)((function(e){return{isAuthorized:e.isAuthorized}}))((function(e){var t=e.match.params.username,n=e.history,r={history:n,username:t},i=e.isAuthorized?a.a.createElement(te,{history:n}):a.a.createElement($t,{history:n}),o=a.a.createElement(Vn,r);return a.a.createElement(Kn,null,i,o)})),$n=n(199);function er(){var e=Object(v.a)(["\n  padding: '0';\n"]);return er=function(){return e},e}function tr(){var e=Object(v.a)(["\n  display: flex;\n"]);return tr=function(){return e},e}function nr(){var e=Object(v.a)(["\n  height: 7px;\n  color: red;\n  padding-left: 10px;\n"]);return nr=function(){return e},e}function rr(){var e=Object(v.a)(["\n  margin-bottom: 15px;\n"]);return rr=function(){return e},e}function ar(){var e=Object(v.a)(["\n  display: flex;\n  margin-bottom: 15px;\n"]);return ar=function(){return e},e}function ir(){var e=Object(v.a)(["\n  text-align: left;\n"]);return ir=function(){return e},e}function or(){var e=Object(v.a)(["\n  text-align: center;\n  font-size: 22px;\n  margin-bottom: 15px;\n"]);return or=function(){return e},e}function cr(){var e=Object(v.a)(["\n  max-width: 1600px;\n  min-height: 800px;\n  border: 1px solid gray;\n  border-radius: 10px;\n  box-shadow: 0 0 6px 0 #34495e;\n  padding: 12px;\n  padding-left: 50px;\n  min-width: 800px;\n  margin: 5px;\n  margin-right: 15px;\n"]);return cr=function(){return e},e}var lr=xt.a().shape({title:xt.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),description:xt.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),body:xt.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),ur=function(e){Object(E.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).handleSubmit=function(){var t=Object(f.a)(m.a.mark((function t(n){var r,a,i,o,c,l;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.setArticlesToStore,a=n.title,i=n.description,o=n.body,c=n.tagList,l={article:{title:a,description:i,body:o,tagList:c}},t.next=5,I(l);case 5:return t.next=7,r([],0);case 7:e.props.history.push("/blog-platform/");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.setCurrentPage)("addArticle")}},{key:"render",value:function(){return a.a.createElement(bt.d,{initialValues:{title:"",description:"",body:"",tag:"",tagList:[]},onSubmit:this.handleSubmit,validationSchema:lr},(function(e){var t=e.values,n=e.handleChange,r=e.handleBlur,i=e.errors,o=e.touched,c=e.dirty,l=e.isValid,u=e.setFieldValue,p=e.setValues,d={size:"small",name:"title",as:"input",component:Et.a,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438",variant:"outlined",error:o.title&&i.title,value:t.title,onChange:n("title"),onBlur:r("title"),width:225,required:!0},m={size:"small",name:"description",as:"input",component:Et.a,label:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",variant:"outlined",error:o.description&&i.description,value:t.description,onChange:n("description"),onBlur:r("description"),required:!0},f={size:"small",name:"tag",as:"input",component:Et.a,label:"\u0422\u0435\u0433",variant:"outlined",value:t.tag,onChange:n("tag"),error:o.tag&&i.tag,onBlur:r("tag"),style:{marginRight:"15px"}},h={size:"small",name:"body",as:"input",component:Et.a,label:"\u0422\u0435\u043a\u0441\u0442 \u0441\u0442\u0430\u0442\u044c\u0438",variant:"outlined",value:t.body,onChange:n("body"),onBlur:r("body"),rowsMin:"25",required:!0},v={variant:"contained",size:"small",color:"secondary",onClick:function(){t.tag.trim()&&(t.tagList.push(t.tag),u("tag",""))}},g={variant:"contained",size:"small",color:"primary",disabled:!c||!l,type:"submit"},b={component:"ul",elevation:0,style:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",listStyle:"none",minHeight:"45px"}},x={maxWidth:"120px",overflow:"hidden"},E={margin:"5px"};return a.a.createElement(sr,null,a.a.createElement(pr,null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"),a.a.createElement(bt.c,null,a.a.createElement(dr,null,a.a.createElement(mr,null,a.a.createElement(bt.a,d),a.a.createElement(hr,null,o.title?i.title:"")),a.a.createElement(mr,null,a.a.createElement(bt.a,m),a.a.createElement(hr,null,o.description?i.description:"")),a.a.createElement(mr,null,a.a.createElement(bt.a,f),a.a.createElement(vr,null,a.a.createElement(Q.a,v,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u0433"))),a.a.createElement(bt.b,{name:"tagList",render:function(){return a.a.createElement(gr,null,a.a.createElement(we.a,b,t.tagList.map((function(e){return a.a.createElement("li",{key:Object(se.uniqueId)(),style:E},a.a.createElement(ye.a,{label:e,onDelete:function(){p(Object(s.a)(Object(s.a)({},t),{},{tagList:t.tagList.filter((function(t){return t!==e}))}))},style:x}))}))))}}),o.tagList?i.tagList:"",a.a.createElement(fr,null,a.a.createElement($n.a,h),a.a.createElement(hr,null,o.body?i.body:"")),a.a.createElement(Q.a,g,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"))))}))}}]),n}(r.Component),sr=g.a.div(cr()),pr=g.a.div(or()),dr=g.a.div(ir()),mr=g.a.div(ar()),fr=g.a.div(rr()),hr=g.a.div(nr()),vr=g.a.div(tr()),gr=g.a.div(er()),br=Object(u.b)(null,(function(e){return{setArticlesToStore:function(t,n){return e(w(t,n))},setCurrentPage:function(t){return e(k(t))}}}))(ur);function xr(){var e=Object(v.a)(["\n  display: flex;\n  margin-bottom: 15px;\n  margin-top: 20px;\n  min-height: 800px;\n"]);return xr=function(){return e},e}var Er=g.a.div(xr());var yr=Object(u.b)((function(e){return{isAuthorized:e.isAuthorized}}))((function(e){var t=e.history,n=e.isAuthorized;n||t.push("/blog-platform/login");var r=n?a.a.createElement(te,{history:t}):null,i=a.a.createElement(br,{history:t});return a.a.createElement(Er,null,r,i)}));function wr(){var e=Object(v.a)(["\n  margin: 10px;\n"]);return wr=function(){return e},e}function Or(){var e=Object(v.a)(["\n  display: flex;\n  margin-left: 10px;\n"]);return Or=function(){return e},e}function jr(){var e=Object(v.a)(["\n  padding: '0';\n"]);return jr=function(){return e},e}function Ar(){var e=Object(v.a)(["\n  height: 7px;\n  color: red;\n  padding-left: 10px;\n"]);return Ar=function(){return e},e}function kr(){var e=Object(v.a)(["\n  margin-bottom: 15px;\n"]);return kr=function(){return e},e}function Cr(){var e=Object(v.a)(["\n  display: flex;\n  margin-bottom: 15px;\n"]);return Cr=function(){return e},e}function Sr(){var e=Object(v.a)(["\n  text-align: left;\n"]);return Sr=function(){return e},e}function zr(){var e=Object(v.a)(["\n  text-align: center;\n  font-size: 22px;\n  margin-bottom: 15px;\n"]);return zr=function(){return e},e}function Lr(){var e=Object(v.a)(["\n  max-width: 1600px;\n  min-height: 800px;\n  border: 1px solid gray;\n  border-radius: 10px;\n  box-shadow: 0 0 6px 0 #34495e;\n  padding: 12px;\n  min-width: 800px;\n  margin: 5px;\n  margin-right: 15px;\n"]);return Lr=function(){return e},e}var Ur=xt.a().shape({title:xt.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),description:xt.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),body:xt.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),Tr=function(e){Object(E.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={article:{title:"",description:"",tagList:[],body:"",author:{username:""}}},e.getArticleFromServer=function(){var t=Object(f.a)(m.a.mark((function t(n){var r,a,i,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.slug,t.next=3,N(r);case 3:return a=t.sent,t.next=6,a.data;case 6:i=t.sent,o=i.article,e.setState({article:o});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSubmit=function(){var t=Object(f.a)(m.a.mark((function t(n){var r,a,i,o,c,l,u,s,p;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props,a=r.slug,i=r.history,o=r.setArticlesToStore,c=n.title,l=n.description,u=n.body,s=n.tagList,p={article:{title:c,description:l,body:u,tagList:s}},t.next=5,W(a,p);case 5:return t.next=7,o([],0);case 7:i.push("/blog-platform/");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteArticle=Object(f.a)(m.a.mark((function t(){var n,r,a,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.slug,a=n.history,i=n.setArticlesToStore,t.next=3,F(r);case 3:if(200!==t.sent.status){t.next=8;break}return t.next=7,i([],0);case 7:a.push("/blog-platform");case 8:case"end":return t.stop()}}),t)}))),e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.setCurrentPage;this.getArticleFromServer(),e("")}},{key:"render",value:function(){var e=this,t=this.state.article,n={title:t.title,description:t.description,body:t.body,tagList:t.tagList};return a.a.createElement(bt.d,{enableReinitialize:!0,initialValues:n,onSubmit:this.handleSubmit,validationSchema:Ur},(function(t){var r=t.values,i=t.handleChange,o=t.handleBlur,c=t.errors,l=t.touched,u=t.dirty,p=t.isValid,d=t.setFieldValue,m=t.setValues,f={size:"small",name:"title",as:"input",component:Et.a,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438",variant:"outlined",error:c.title,initialvalue:n.title,value:r.title,onChange:i("title"),onBlur:o("title"),width:225,required:!0},h={size:"small",name:"description",as:"input",component:Et.a,label:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",variant:"outlined",error:c.description,value:r.description,onChange:i("description"),onBlur:o("description"),width:"225"},v={size:"small",name:"tag",as:"input",component:Et.a,label:"\u0422\u0435\u0433",variant:"outlined",error:l.tag&&Boolean(c.tag),value:r.tag,onChange:i("tag"),onBlur:o("tag"),width:"225"},g={size:"small",name:"body",as:"input",component:Et.a,label:"\u0422\u0435\u043a\u0441\u0442 \u0441\u0442\u0430\u0442\u044c\u0438",variant:"outlined",error:c.body,value:r.body,onChange:i("body"),onBlur:o("body"),rows:"10",width:"225",required:!0},b={variant:"contained",size:"small",color:"secondary",onClick:function(){r.tag.trim()&&(r.tagList.push(r.tag),d("tag",""))}},x={variant:"contained",size:"small",color:"primary",disabled:!u||!p,type:"submit"},E={variant:"contained",size:"small",onClick:e.deleteArticle},y={component:"ul",elevation:0,style:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",listStyle:"none",minHeight:"45px"}},w={maxWidth:"120px",overflow:"hidden"},O={margin:"5px"};return a.a.createElement(Pr,null,a.a.createElement(Dr,null,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"),a.a.createElement(bt.c,null,a.a.createElement(Mr,null,a.a.createElement(_r,null,a.a.createElement(bt.a,f),a.a.createElement(Nr,null,l.title?c.title:"")),a.a.createElement(_r,null,a.a.createElement(bt.a,h),a.a.createElement(Nr,null,l.description?c.description:"")),a.a.createElement(_r,null,a.a.createElement(bt.a,v),a.a.createElement(Rr,null,a.a.createElement(Q.a,b,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u0433"))),a.a.createElement(bt.b,{name:"tagList",render:function(){return a.a.createElement(qr,null,a.a.createElement(we.a,y,r.tagList.map((function(e){return a.a.createElement("li",{key:Object(se.uniqueId)(),style:O},a.a.createElement(ye.a,{label:e,onDelete:function(){m(Object(s.a)(Object(s.a)({},r),{},{tagList:r.tagList.filter((function(t){return t!==e}))}))},style:w}))}))))}}),l.tagList?c.tagList:"",a.a.createElement(Br,null,a.a.createElement($n.a,g),a.a.createElement(Nr,null,l.body?c.body:"")),a.a.createElement(Rr,null,a.a.createElement(Ir,null,a.a.createElement(Q.a,x,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")),a.a.createElement(Ir,null,a.a.createElement(Q.a,E,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"))))))}))}}]),n}(r.Component),Pr=g.a.div(Lr()),Dr=g.a.div(zr()),Mr=g.a.div(Sr()),_r=g.a.div(Cr()),Br=g.a.div(kr()),Nr=g.a.div(Ar()),qr=g.a.div(jr()),Rr=g.a.div(Or()),Ir=g.a.div(wr()),Fr=Object(u.b)((function(e){return{isAuthorized:e.isAuthorized,currentUser:e.currentUser}}),(function(e){return{setArticlesToStore:function(t,n){return e(w(t,n))},setCurrentPage:function(t){return e(k(t))}}}))(Tr);function Vr(){var e=Object(v.a)(["\n  display: flex;\n  margin-bottom: 15px;\n  margin-top: 20px;\n  min-height: 800px;\n"]);return Vr=function(){return e},e}var Wr=g.a.div(Vr()),Qr=Object(u.b)((function(e){return{isAuthorized:e.isAuthorized}}))((function(e){var t=e.history,n=e.isAuthorized,r=e.match.params.slug;n||t.push("/blog-platform/login");var i=n?a.a.createElement(te,{history:t}):null,o=a.a.createElement(Fr,{history:t,slug:r});return a.a.createElement(Wr,null,i,o)})),Hr=n(239),Xr=n(240),Gr=n(157),Jr=n.n(Gr);function Zr(e){return a.a.createElement("div",null,a.a.createElement(Hr.a,{position:"static",style:{borderRadius:"10px"}},a.a.createElement(Xr.a,null,a.a.createElement(kt.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){}},a.a.createElement(Jr.a,null)))))}var Kr="/blog-platform";var Yr=Object(u.b)(null,(function(e){return{setCurrentUser:function(t){return e(A(t))},setAuth:function(t){return e(O(t))}}}))((function(e){return function(){var t=Object(f.a)(m.a.mark((function t(){var n,r,a,i,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.setAuth,r=e.setCurrentUser,!localStorage.getItem("token")){t.next=11;break}return t.next=4,U();case 4:return a=t.sent,t.next=7,a.data;case 7:i=t.sent,o=i.user,r(o),n(!0);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),a.a.createElement("div",{className:"app"},a.a.createElement(Zr,null),a.a.createElement(h.a,{exact:!0,path:Kr,component:gt}),a.a.createElement(h.a,{path:"".concat(Kr,"/signup"),component:Qt}),a.a.createElement(h.a,{path:"".concat(Kr,"/login"),component:cn}),a.a.createElement(h.a,{path:"".concat(Kr,"/add"),component:yr}),a.a.createElement(h.a,{exact:!0,path:"".concat(Kr,"/articles/:slug"),component:Mn}),a.a.createElement(h.a,{exact:!0,path:"".concat(Kr,"/user/:username"),component:Yn}),a.a.createElement(h.a,{path:"".concat(Kr,"/articles/:slug/edit"),component:Qr}))})),$r=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):l.c)(Object(l.a)()),ea=Object(l.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.listArticles,a=t.articlesCount,i=t.currentArticle,o=t.isAuthorized,c=t.currentUser,l=t.showMode,u=t.currentPage;switch(n){case"ARTICLES_LOADED":return Object(s.a)(Object(s.a)({},e),{},{listArticles:r,articlesCount:a});case"CURRENT_ARTICLE_LOADED":return Object(s.a)(Object(s.a)({},e),{},{currentArticle:i});case"SET_AUTHORIZED":return Object(s.a)(Object(s.a)({},e),{},{isAuthorized:o});case"SHOW_MODE":return Object(s.a)(Object(s.a)({},e),{},{showMode:l});case"CURRENT_USER_PROFILE_LOAD":return Object(s.a)(Object(s.a)({},e),{},{currentUser:c});case"SET_CURRENT_PAGE":return Object(s.a)(Object(s.a)({},e),{},{currentPage:u});default:return e}}),$r),ta=a.a.createElement(u.a,{store:ea},a.a.createElement(c.a,null,a.a.createElement(Yr,null)));o.a.render(ta,document.getElementById("root"))}},[[167,1,2]]]);
//# sourceMappingURL=main.4fa0a6cd.chunk.js.map